{"version":3,"file":"static/js/309.b05ef5bd.chunk.js","mappings":"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","sources":["components/Main/Helpers/Notifications.js","components/Main/Main.jsx"],"sourcesContent":["import addNotification from \"react-push-notification\";\r\nlet warning = (msg) => {\r\n  addNotification({\r\n    title: \"Warning\",\r\n    subtitle: \"There was a problem\",\r\n    message: msg,\r\n    theme: \"red\",\r\n    closeButton: \"X\",\r\n    duration: 6000,\r\n  });\r\n};\r\nlet success = (msg) => {\r\n  addNotification({\r\n    title: \"Success\",\r\n    subtitle: \"OK!\",\r\n    message: msg,\r\n    theme: \"light\",\r\n    closeButton: \"X\",\r\n    backgroundTop: \"green\",\r\n    backgroundBottom: \"yellowgreen\",\r\n    duration: 6000,\r\n  });\r\n};\r\n\r\nlet notifications = {\r\n  warning,\r\n  success,\r\n};\r\nexport default notifications;\r\n","import React, { Suspense, useEffect, useState, useRef } from \"react\";\r\nimport { NavLink, Outlet, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { MainContext } from \"./Helpers/Context\";\r\nimport {\r\n  RiMoneyCnyCircleFill,\r\n  RiExchangeFill,\r\n  RiDatabaseFill,\r\n  RiUserAddFill,\r\n  RiNotification2Fill,\r\n  RiDeviceFill,\r\n  RiUser4Fill,\r\n  RiMoneyCnyCircleLine,\r\n  RiExchangeLine,\r\n  RiDatabaseLine,\r\n  RiUserAddLine,\r\n  RiDashboardLine,\r\n  RiDashboardFill,\r\n  RiNotification2Line,\r\n  RiDeviceLine,\r\n  RiSettings3Fill,\r\n  RiSettings3Line,\r\n  RiFileUserFill,\r\n  RiFileUserLine,\r\n  RiLogoutCircleRLine,\r\n  RiWifiOffLine,\r\n  RiWifiLine,\r\n  RiNotification3Fill,\r\n  RiCloseFill,\r\n  RiAdminFill,\r\n} from \"react-icons/ri\";\r\nimport \"./main.css\";\r\nimport Loader from \"../small_comps/loader/Loader\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport notifications from \"./Helpers/Notifications\";\r\nconst Main = () => {\r\n  const [loggedSchool, setloggedSchool] = useState(\"\");\r\n  const [loggedUser, setLoggedUser] = useState(\"\");\r\n  const [admin, setAdmin] = useState(false);\r\n  const [url] = useState(\"\");\r\n  const [isConnected, setIsConnected] = useState(true);\r\n  const [notificationsArr, setNotificationsArr] = useState([]);\r\n  let disConnect = useRef(0);\r\n  let navigate = useNavigate();\r\n  const io = socketIOClient(url);\r\n  const connectionAlert = useRef(null);\r\n  const [notiNum, setNotiNum] = useState(\"\");\r\n  let location = useLocation();\r\n  let pathtitle = location.pathname.split(\"/\");\r\n  try {\r\n    if (loggedSchool) {\r\n      if (pathtitle[pathtitle.length - 1] !== \"\")\r\n        document.title = `${pathtitle[\r\n          pathtitle.length - 1\r\n        ][0].toUpperCase()}${pathtitle[pathtitle.length - 1].substring(\r\n          1\r\n        )} | ${loggedSchool.toUpperCase()}`;\r\n      else document.title = `Dashboard | ${loggedSchool.toUpperCase()}`;\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n  useEffect(() => {\r\n    if (isConnected) {\r\n      if (disConnect.current === 1) {\r\n        !connectionAlert.current.classList.contains(\"connected\") &&\r\n          connectionAlert.current.classList.add(\"connected\");\r\n        connectionAlert.current.classList.contains(\"disconnected\") &&\r\n          connectionAlert.current.classList.remove(\"disconnected\");\r\n        document.getElementById(\"conn\").innerText = \"Back online\";\r\n        setTimeout(\r\n          () => connectionAlert.current.classList.remove(\"connected\"),\r\n          3000\r\n        );\r\n      }\r\n    } else {\r\n      !connectionAlert.current.classList.contains(\"disconnected\") &&\r\n        connectionAlert.current.classList.add(\"disconnected\");\r\n      connectionAlert.current.classList.contains(\"connected\") &&\r\n        connectionAlert.current.classList.remove(\"connected\");\r\n      document.getElementById(\"conn\").innerText = \"Connection lost\";\r\n    }\r\n  }, [isConnected]);\r\n\r\n  useEffect(() => {\r\n    io.on(\"connect\", () => {\r\n      console.log(\"connected\");\r\n      setIsConnected(true);\r\n      if (loggedSchool) {\r\n        io.emit(\"get-notification\", { loggedSchool });\r\n      }\r\n    });\r\n    io.on(\"notification\", (data) => {\r\n      // console.log(data);\r\n      if (data[0].count > 0) {\r\n        if (data[0].count > 100) {\r\n          setNotiNum(\"99+\");\r\n        } else {\r\n          setNotiNum(data[0].count);\r\n        }\r\n      } else {\r\n        setNotiNum(\"\");\r\n      }\r\n    });\r\n    io.on(\"connect_failed\", () => {\r\n      console.log(\"failed\");\r\n      setIsConnected(false);\r\n    });\r\n    io.on(\"connect_error\", () => {\r\n      console.log(\"error\");\r\n      console.clear();\r\n      setIsConnected(false);\r\n    });\r\n    io.on(\"disconnect\", () => {\r\n      console.log(\"disconnected\");\r\n      disConnect.current = 1;\r\n      setIsConnected(false);\r\n    });\r\n    io.on(\"show_notification\", (data) => {\r\n      if (data) {\r\n        setNotificationsArr([...notificationsArr, data]);\r\n      }\r\n    });\r\n    return () => {\r\n      io.off(\"connection\");\r\n      io.off(\"disconnect\");\r\n      io.off(\"get-notification\");\r\n      io.close();\r\n    };\r\n  }, [io, loggedSchool, notiNum, notificationsArr]);\r\n\r\n  useEffect(() => {\r\n    let RemoveArr = setInterval(() => {\r\n      if (notificationsArr.length === 0) {\r\n        clearInterval(RemoveArr);\r\n      } else {\r\n        console.log(notificationsArr);\r\n        let tempNo = Array.from(notificationsArr);\r\n        tempNo.pop();\r\n        setNotificationsArr(tempNo);\r\n      }\r\n    }, 6500);\r\n    return () => {\r\n      clearInterval(RemoveArr);\r\n    };\r\n  }, [notificationsArr]);\r\n\r\n  useEffect(() => {\r\n    fetch(`${url}/main`, {\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method: \"GET\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.creds) {\r\n          if (data.creds.school) {\r\n            setLoggedUser(data.creds.user);\r\n            setloggedSchool(data.creds.school);\r\n            setAdmin(data.creds.admin);\r\n            if (data.creds.admin === false) {\r\n              let pathname = location.pathname.split(\"/\");\r\n              let unauthorizePage = [\"users\", \"settings\"];\r\n              pathname[pathname.length - 1] === \"\" && pathname.pop();\r\n              if (unauthorizePage.includes(pathname[pathname.length - 1])) {\r\n                navigate(\"../../authorization\");\r\n              } else {\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          navigate(\"../authentication\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        navigate(\"../login\");\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [document.readyState]);\r\n\r\n  useEffect(() => {\r\n    if (loggedSchool) {\r\n      let pathname = location.pathname.split(\"/\");\r\n      let path_arr = [];\r\n      pathname.forEach((path) => {\r\n        if (path === loggedSchool.replace(/ /g, \"_\")) {\r\n          path_arr.push(path);\r\n          return;\r\n        }\r\n      });\r\n      path_arr[0] !== loggedSchool.replace(/ /g, \"_\") && navigate(\"not-found\");\r\n    }\r\n  });\r\n  const handleLogout = () => {\r\n    window.confirm(\"do you want to logout?\") &&\r\n      fetch(`${url}/logout`, {\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        method: \"GET\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.status && data.logout) {\r\n            navigate(\"../login\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n  };\r\n  const removeNoti = (notiID) => {\r\n    setNotificationsArr(notificationsArr.filter((noti) => noti.id !== notiID));\r\n  };\r\n  return (\r\n    <div className=\"home\">\r\n      <MainContext.Provider\r\n        value={{\r\n          loggedSchool,\r\n          loggedUser,\r\n          admin,\r\n          url,\r\n          notifications,\r\n          io,\r\n          setNotiNum,\r\n        }}\r\n      >\r\n        <div className=\"connection-container\" ref={connectionAlert}>\r\n          {isConnected ? <RiWifiLine size={17} /> : <RiWifiOffLine size={17} />}{\" \"}\r\n          <span id=\"conn\"></span>{\" \"}\r\n        </div>\r\n        {notificationsArr.length > 0 && (\r\n          <div className=\"noti-cont\">\r\n            {notificationsArr.length > 0 &&\r\n              notificationsArr.map((notification, index) => (\r\n                <div className=\"noti-container\" key={Math.random() * 2}>\r\n                  <div\r\n                    className=\"close\"\r\n                    onClick={() => removeNoti(notification.id)}\r\n                  >\r\n                    <RiCloseFill fill=\"red\" />{\" \"}\r\n                  </div>\r\n                  <div className=\"title\">\r\n                    <RiNotification3Fill /> Notification\r\n                  </div>\r\n                  <div className=\"notification-body\">\r\n                    {notification.message}\r\n                    <p>Now</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"vert__nav\">\r\n          <div className=\"slogan\">\r\n            <RiUser4Fill size={40} title={loggedUser + \" logged in\"} />\r\n            <p>Admin Fee Record</p>\r\n          </div>\r\n          <nav>\r\n            <NavLink\r\n              to=\"dashboard\"\r\n              className={\r\n                location.pathname ===\r\n                  \"/\" + loggedSchool.replace(/ /g, \"_\") + \"/\" && \"active\"\r\n              }\r\n            >\r\n              {\" \"}\r\n              <RiDashboardFill /> <span>Dashboard</span>\r\n            </NavLink>\r\n            <NavLink to=\"students\">\r\n              {\" \"}\r\n              <RiFileUserFill /> <span> Students</span>\r\n            </NavLink>\r\n            <NavLink to=\"payment\">\r\n              {\" \"}\r\n              <RiMoneyCnyCircleFill /> <span>Make Payment</span>\r\n            </NavLink>\r\n            <NavLink to=\"fees\">\r\n              {\" \"}\r\n              <RiExchangeFill /> <span>Fees</span>\r\n            </NavLink>\r\n            <NavLink to=\"records\">\r\n              {\" \"}\r\n              <RiDatabaseFill /> <span>Record</span>\r\n            </NavLink>\r\n            {admin && (\r\n              <>\r\n                <NavLink to=\"users\" className=\"admin\">\r\n                  {\" \"}\r\n                  <RiUserAddFill /> <span>Users</span>\r\n                </NavLink>\r\n                <NavLink to=\"settings\" className=\"admin\">\r\n                  {\" \"}\r\n                  <RiSettings3Fill /> <span>Settings</span>\r\n                </NavLink>\r\n                <NavLink to=\"backup\" className=\"admin\">\r\n                  {\" \"}\r\n                  <RiDeviceFill /> <span>Backup</span>\r\n                </NavLink>\r\n              </>\r\n            )}\r\n            <NavLink to=\"notifications\" className=\"\">\r\n              {\" \"}\r\n              <RiNotification2Fill /> <span>Notifications</span>{\" \"}\r\n              {notiNum !== \"\" && (\r\n                <span\r\n                  className=\"badge \"\r\n                  style={{ background: \"#dc3545\", marginLeft: \"5px\" }}\r\n                >\r\n                  {notiNum}\r\n                </span>\r\n              )}\r\n            </NavLink>\r\n            <button className=\"desktop\" onClick={() => handleLogout()}>\r\n              {\" \"}\r\n              <RiLogoutCircleRLine /> <span>Logout</span>\r\n            </button>\r\n          </nav>\r\n        </div>\r\n        <header>\r\n          <h4 className=\"school-name\">{loggedSchool}</h4>\r\n          <button onClick={() => handleLogout()} className=\"phone\">\r\n            <RiLogoutCircleRLine style={{ marginLeft: \".3rem\" }} size={21} />\r\n          </button>\r\n          <div className=\"user\" title={loggedUser + \" logged in\"}>\r\n            <RiAdminFill size={21} />\r\n            <small>{loggedUser}</small>\r\n          </div>\r\n        </header>\r\n        <div className=\"hor-nav\">\r\n          <nav>\r\n            <NavLink\r\n              to=\"dashboard\"\r\n              className={\r\n                location.pathname ===\r\n                  \"/\" + loggedSchool.replace(/ /g, \"_\") + \"/\" &&\r\n                \"active\".concat(\" noselect\")\r\n              }\r\n            >\r\n              {\" \"}\r\n              <RiDashboardLine size={20} />{\" \"}\r\n            </NavLink>\r\n            <NavLink to=\"students\" className=\"noselect\">\r\n              {\" \"}\r\n              <RiFileUserLine size={20} />{\" \"}\r\n            </NavLink>\r\n            <NavLink to=\"payment\" className=\"noselect\">\r\n              {\" \"}\r\n              <RiMoneyCnyCircleLine size={20} />\r\n            </NavLink>\r\n            <NavLink to=\"fees\" className=\"noselect\">\r\n              {\" \"}\r\n              <RiExchangeLine size={20} />{\" \"}\r\n            </NavLink>\r\n            <NavLink to=\"records\" className=\"noselect\">\r\n              {\" \"}\r\n              <RiDatabaseLine size={20} />\r\n            </NavLink>\r\n\r\n            {admin && (\r\n              <>\r\n                <NavLink to=\"users\" className=\"admin noselect\">\r\n                  {\" \"}\r\n                  <RiUserAddLine size={20} />{\" \"}\r\n                </NavLink>\r\n                <NavLink to=\"settings\" className=\"admin noselect\">\r\n                  {\" \"}\r\n                  <RiSettings3Line size={20} />{\" \"}\r\n                </NavLink>\r\n                <NavLink to=\"backup\" className=\"admin noselect\">\r\n                  {\" \"}\r\n                  <RiDeviceLine size={20} />{\" \"}\r\n                </NavLink>\r\n              </>\r\n            )}\r\n            <NavLink to=\"notifications\" className=\"noselect\">\r\n              {\" \"}\r\n              <RiNotification2Line size={20} />{\" \"}\r\n              {notiNum !== \"\" && (\r\n                <span\r\n                  className=\"badge \"\r\n                  style={{ background: \"#dc3545\", marginLeft: \"5px\" }}\r\n                >\r\n                  {notiNum}\r\n                </span>\r\n              )}\r\n            </NavLink>\r\n          </nav>\r\n        </div>\r\n        <main className=\"content\">\r\n          <Suspense fallback={<Loader.AudioLoader />}>\r\n            <Outlet />\r\n          </Suspense>\r\n        </main>\r\n      </MainContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"names":["warning","msg","addNotification","title","subtitle","message","theme","closeButton","duration","success","backgroundTop","backgroundBottom","useState","loggedSchool","setloggedSchool","loggedUser","setLoggedUser","admin","setAdmin","url","isConnected","setIsConnected","notificationsArr","setNotificationsArr","disConnect","useRef","navigate","useNavigate","io","socketIOClient","connectionAlert","notiNum","setNotiNum","location","useLocation","pathtitle","pathname","split","length","document","toUpperCase","substring","error","console","log","useEffect","current","classList","contains","add","remove","getElementById","innerText","setTimeout","on","emit","data","count","clear","off","close","RemoveArr","setInterval","clearInterval","tempNo","Array","from","pop","fetch","credentials","headers","method","then","res","json","creds","school","user","includes","catch","err","readyState","path_arr","forEach","path","replace","push","handleLogout","window","confirm","status","logout","className","value","notifications","ref","size","id","map","notification","index","onClick","notiID","filter","noti","fill","Math","random","to","style","background","marginLeft","concat","Suspense","fallback","Loader"],"sourceRoot":""}