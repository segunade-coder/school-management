"use strict";(self.webpackChunkpaymof=self.webpackChunkpaymof||[]).push([[413],{7413:function(e,n,s){s.r(n),s.d(n,{default:function(){return v}});var t=s(885),a=s(2791),l=s(8617),i=s(2120),o=s(2185),c=s(6871),d=s(7425),r=s(4329),u=s(184),v=function(){var e,n,s=(0,c.s0)(),v=(0,a.useState)(""),h=(0,t.Z)(v,2),m=h[0],p=h[1],f=(0,a.useState)(""),j=(0,t.Z)(f,2),x=j[0],g=j[1],y=(0,a.useState)(""),N=(0,t.Z)(y,2),b=N[0],S=N[1],C=(0,a.useState)(""),w=(0,t.Z)(C,2),k=w[0],T=w[1],D=(0,a.useState)([]),L=(0,t.Z)(D,2),O=L[0],Z=L[1],_=(0,a.useState)([]),P=(0,t.Z)(_,2),E=P[0],I=P[1],M=(0,a.useState)([]),U=(0,t.Z)(M,2),J=U[0],F=U[1],B=(0,a.useState)([]),A=(0,t.Z)(B,2),R=A[0],q=A[1],G=(0,a.useState)(!1),V=(0,t.Z)(G,2),W=V[0],Y=V[1],K=(0,a.useState)(0),Q=(0,t.Z)(K,2),z=Q[0],H=Q[1],X=[],$=(0,a.useState)([]),ee=(0,t.Z)($,2),ne=ee[0],se=ee[1],te=(0,a.useState)(0),ae=(0,t.Z)(te,2),le=ae[0],ie=ae[1],oe=(0,a.useState)(1),ce=(0,t.Z)(oe,2),de=ce[0],re=ce[1],ue=(0,a.useState)(""),ve=(0,t.Z)(ue,2),he=ve[0],me=ve[1],pe=(0,a.useState)(""),fe=(0,t.Z)(pe,2),je=fe[0],xe=fe[1],ge=(0,a.useState)(""),ye=(0,t.Z)(ge,2),Ne=ye[0],be=ye[1],Se=(0,a.useState)(""),Ce=(0,t.Z)(Se,2),we=Ce[0],ke=Ce[1],Te=(0,a.useState)(""),De=(0,t.Z)(Te,2),Le=De[0],Oe=De[1],Ze=(0,a.useState)([]),_e=(0,t.Z)(Ze,2),Pe=_e[0],Ee=_e[1],Ie=(0,a.useState)([]),Me=(0,t.Z)(Ie,2),Ue=Me[0],Je=Me[1],Fe=(0,a.useState)([]),Be=(0,t.Z)(Fe,2),Ae=Be[0],Re=Be[1],qe=(0,a.useState)(0),Ge=(0,t.Z)(qe,2),Ve=Ge[0],We=Ge[1],Ye=(0,a.useState)(""),Ke=(0,t.Z)(Ye,2),Qe=Ke[0],ze=Ke[1],He=(0,a.useState)([]),Xe=(0,t.Z)(He,2),$e=Xe[0],en=Xe[1],nn=(0,a.useState)(6),sn=(0,t.Z)(nn,2),tn=sn[0],an=sn[1],ln=(0,a.useState)("records"),on=(0,t.Z)(ln,2),cn=on[0],dn=on[1],rn=(0,a.useRef)([]),un=(0,a.useRef)(""),vn=(0,a.useRef)(),hn=(0,a.useContext)(l.T),mn=hn.url,pn=hn.notifications,fn=function(){var e;Y(!0);var n=!1;n=z>0;var s={searchId:z,name:null===m||void 0===m||null===(e=m.trim())||void 0===e?void 0:e.toLowerCase(),status:n,limit:tn,page:de};fetch("".concat(mn,"/main/records/").concat(cn),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:null===JSON||void 0===JSON?void 0:JSON.stringify(s)}).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){if(Y(!1),null!==e&&void 0!==e&&e.status)try{se(null===e||void 0===e?void 0:e.message),ie(null===Math||void 0===Math?void 0:Math.ceil((null===e||void 0===e?void 0:e.total)/tn))}catch(n){console.log("failed to set datas")}else null===pn||void 0===pn||pn.warning(null===e||void 0===e?void 0:e.message)})).catch((function(e){Y(!1),console.log(e)}))};(0,a.useEffect)((function(){fetch("".concat(mn,"/main/payment/classes"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){if(null!==e&&void 0!==e&&e.status){var n;n=null===e||void 0===e?void 0:e.message[0];try{var s,t,a,l,i;q(null===(s=n)||void 0===s?void 0:s.terms.split(",")),I(null===(t=n)||void 0===t||null===(a=t.sessions)||void 0===a?void 0:a.split(",")),Z(null===JSON||void 0===JSON?void 0:JSON.parse(null===(l=n)||void 0===l?void 0:l.classes)),en(new Map(null===JSON||void 0===JSON?void 0:JSON.parse(null===(i=n)||void 0===i?void 0:i.fees)))}catch(o){console.log("failed to set datas")}}})).catch((function(e){return console.log(e)}))}),[document.readyState]),(0,a.useEffect)((function(){fn()}),[de,cn,tn]);var jn=function(e){try{var n,s,t,a,l,i,o,c,d=null===e||void 0===e?void 0:e.split(" ");if((null===(n=d)||void 0===n?void 0:n.length)>2&&"kindergaten"!==(null===(s=d[0])||void 0===s?void 0:s.toLowerCase()))d=null===(o=d)||void 0===o?void 0:o.splice(0,2);else d=null===(c=d)||void 0===c?void 0:c.splice(0,1);(null===$e||void 0===$e?void 0:$e.has(null===(t=d)||void 0===t||null===(a=t.join(" "))||void 0===a?void 0:a.toLowerCase()))&&ke(null===$e||void 0===$e?void 0:$e.get(null===(l=d)||void 0===l||null===(i=l.join(" "))||void 0===i?void 0:i.toLowerCase()))}catch(r){console.log(r)}},xn=function(e){re(e),Y(!0);var n=!1;n=z>0;var s={searchId:z,name:m.trim().toLowerCase(),status:n,limit:tn,page:de};fetch("".concat(mn,"/main/records/").concat(cn,"/"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){if(Y(!1),e.status)try{se(e.message)}catch(n){console.log("failed to set datas")}else pn.warning(e.message)})).catch((function(e){Y(!1),console.log(e)}))},gn=function(){me(""),xe(""),be(),ke(""),Oe(""),rn.current=[],Je([]),Re([]),We(""),Ee([]),ze("")};(0,a.useEffect)((function(){we&&Ve&&Oe(we-Ve)}),[we,Ve]);return(0,u.jsxs)("div",{className:"__records",children:[(0,u.jsx)(i.Notifications,{position:"top-right"}),(0,u.jsx)("h2",{children:"Records"}),(0,u.jsxs)("form",{className:"search-container",children:[(0,u.jsx)("label",{htmlFor:"name",children:"Name"}),(0,u.jsxs)("div",{className:"input-filter-cont",children:[(0,u.jsx)("input",{type:"select",id:"name",value:m,onKeyUp:function(){return H(0),void(m.length>1?(""!==x&&X.push({class:x}),""!==b&&X.push({session:b}),""!==k&&X.push({term:k}),X.length>0?fetch("".concat(mn,"/main/records/find-name"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m,condition:!0,filterArray:X}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.status&&F(e.message)})).catch((function(e){return console.log(e)})):fetch("".concat(mn,"/main/records/find-name"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m,condition:!1}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.status&&F(e.message)})).catch((function(e){return console.log(e)}))):F([]))},onChange:function(e){var n;return p(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)},autoComplete:"off",placeholder:"Enter Name to search"}),(0,u.jsx)("div",{className:"output-container",id:"form-id",ref:vn,children:(0,u.jsx)("div",{className:"output-names",children:J&&(null===J||void 0===J?void 0:J.map((function(e){return(0,u.jsxs)("div",{className:"names",onClick:function(){return function(e){var n=J.find((function(n){return n.payment_id===e}));p(n.name.toUpperCase()),F([]),H(e)}(null===e||void 0===e?void 0:e.payment_id)},children:[(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.name})," ",(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.class})]},null===e||void 0===e?void 0:e.id)})))})})]}),(0,u.jsxs)("select",{value:x,onChange:function(e){return function(e){g(e.target.value),""!==e.target.value?document.querySelector(".filter-class").classList.add("filter"):document.querySelector(".filter-class").classList.remove("filter")}(e)},className:"filter-class",children:[(0,u.jsx)("option",{value:"",children:"Class"}),O&&(null===O||void 0===O?void 0:O.map((function(e){return(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.toUpperCase(),children:null===e||void 0===e?void 0:e.toUpperCase()},Math.random())})))]}),(0,u.jsxs)("select",{value:k,onChange:function(e){return function(e){T(e.target.value),""!==e.target.value?document.querySelector(".filter-term").classList.add("filter"):document.querySelector(".filter-term").classList.remove("filter")}(e)},className:"filter-term",children:[(0,u.jsx)("option",{value:"",children:"Term"}),R&&(null===R||void 0===R?void 0:R.map((function(e){return(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.toUpperCase(),children:null===e||void 0===e?void 0:e.toUpperCase()},Math.random())})))]}),(0,u.jsxs)("select",{value:b,onChange:function(e){return function(e){S(e.target.value),""!==e.target.value?document.querySelector(".filter-sess").classList.add("filter"):document.querySelector(".filter-sess").classList.remove("filter")}(e)},className:"filter-sess",children:[(0,u.jsx)("option",{value:"",children:"Session"}),E&&(null===E||void 0===E?void 0:E.map((function(e){return(0,u.jsx)("option",{value:null===e||void 0===e?void 0:e.toUpperCase(),children:null===e||void 0===e?void 0:e.toUpperCase()},Math.random())})))]}),(0,u.jsxs)("div",{className:"btn-cont",children:[(0,u.jsxs)("button",{onClick:function(e){return function(e){e.preventDefault(),F([]),dn("findId"),re(1),g(""),S(""),T(""),document.querySelector(".filter-class").classList.remove("filter");var n=!1;n=z>0;var s={searchId:z,name:m.trim().toLowerCase(),status:n,limit:tn,page:1};z||m?fetch("".concat(mn,"/main/records/findId"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),credentials:"include"}).then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){null!==e&&void 0!==e&&e.status&&(se((function(n){return null===e||void 0===e?void 0:e.message})),ie(null===Math||void 0===Math?void 0:Math.ceil((null===e||void 0===e?void 0:e.total)/tn)))})).catch((function(e){return console.log(e)})):pn.warning("empty search")}(e)},className:"btn btn-success btn-sm",children:[(0,u.jsx)(d.Qcu,{}),(0,u.jsx)("span",{style:{marginLeft:".3rem"},children:"Find"})]}),(0,u.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),p(""),F([]),g(""),S(""),T(""),dn("records"),re(1),fn(),document.querySelector(".filter-class").classList.remove("filter")}(e)},className:"btn btn-danger btn-sm",children:"Clear"})]})]}),(0,u.jsxs)("div",{className:"view-debtor-cont",children:[(0,u.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:function(){return s("../debtors")},children:"View Debtors"}),(0,u.jsx)("button",{className:"btn btn-outline-dark btn-sm",onClick:function(){return s("../weekly-report")},children:"Weekly Report"})]}),(0,u.jsxs)("div",{className:"balance-table",children:[(0,u.jsx)("div",{className:"refresh",style:{display:"flex",justifyContent:"flex-end",margin:".2rem 0"},children:(0,u.jsx)("span",{title:"Refresh",style:{cursor:"pointer"},onClick:function(){return fn()},children:(0,u.jsx)(d.PwW,{})})}),(0,u.jsx)("div",{className:"table-cont",children:(0,u.jsxs)("div",{className:"our-table",children:[(0,u.jsxs)("div",{className:"header",children:["Name",(0,u.jsxs)("select",{value:tn,onChange:function(e){return function(e){var n;an(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value),re(1)}(e)},children:[(0,u.jsx)("option",{value:"6",children:"6"}),(0,u.jsx)("option",{value:"10",children:"10"}),(0,u.jsx)("option",{value:"20",children:"20"}),(0,u.jsx)("option",{value:"50",children:"50"}),(0,u.jsx)("option",{value:"100",children:"100"})]})]}),(0,u.jsx)("div",{className:"header",children:"payment id"}),(0,u.jsx)("div",{className:"header",children:"Class"}),(0,u.jsx)("div",{className:"header",children:"Total (\u20a6)"}),(0,u.jsx)("div",{className:"header",children:"Balance (\u20a6)"}),(0,u.jsx)("hr",{}),W?(0,u.jsx)("div",{className:"table-row loading",style:{textAlign:"center",padding:".3rem"},children:"loading..."}):0===(null===ne||void 0===ne?void 0:ne.length)?(0,u.jsx)("div",{className:"table-row",style:{textAlign:"center",padding:".3rem"},children:"No records available"}):null===ne||void 0===ne?void 0:ne.map((function(e){var n,s,t,a;return(0,u.jsxs)("details",{className:"table-row",children:[(0,u.jsxs)("summary",{children:[(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.name}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.payment_id}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.class}),(0,u.jsx)("span",{children:null===(n=parseInt(null===e||void 0===e?void 0:e.expected_payment))||void 0===n?void 0:n.toLocaleString()}),(0,u.jsx)("span",{children:null===(s=parseInt(null===e||void 0===e?void 0:e.balance))||void 0===s?void 0:s.toLocaleString()})]}),(0,u.jsxs)("p",{className:"alert alert-info",children:[(0,u.jsx)("small",{className:"alert-heading h5",children:"Details"}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Name"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.name})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Total"}),(0,u.jsxs)("span",{children:["\u20a6",null===(t=parseInt(null===e||void 0===e?void 0:e.expected_payment))||void 0===t?void 0:t.toLocaleString()]})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Balance"}),(0,u.jsxs)("span",{children:["\u20a6",null===(a=parseInt(null===e||void 0===e?void 0:e.balance))||void 0===a?void 0:a.toLocaleString()]})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Date of Payment"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.DOP})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Remark"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.remark})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Payment Method"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.payment_method})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Payment For"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.payment_for})]}),e.balance_date&&(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Balance Date"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.balance_date})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Date of Genetation"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.DOG})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("span",{children:"Accountant"}),(0,u.jsx)("span",{children:null===e||void 0===e?void 0:e.accountant})]}),(0,u.jsxs)("span",{className:"details-content",children:[(0,u.jsx)("button",{onClick:function(){return n=null===e||void 0===e?void 0:e.keyid,gn(),void(n&&fetch("".concat(mn,"/main/records/get-view?key=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){if(e.status){var n=[],s=[],t=[],a=0,l=[];me(e.message[0].name),xe(e.message[0].class),be(e.message[0].payment_id),ke(e.message[0].expected_payment),Oe(e.message[0].balance),ze(e.message[0].balance_date),e.message.length>1?(e.message.forEach((function(e){t.push(e.DOP),n.push(e.remark),s.push(e.amount_paid),a+=parseInt(e.amount_paid),l.push(e.DOG)})),Je(n),Re(s),We(a),rn.current=t,Ee(l)):(Je([e.message[0].remark]),rn.current=[e.message[0].DOP],Re([e.message[0].amount_paid]),We(e.message[0].amount_paid),Ee([e.message[0].DOG])),document.getElementsByClassName("print-modal")[0].classList.add("show-modal"),document.body.style.overflow="hidden",window.scrollTo(0,-1*parseInt(window.scrollY||"0"))}else pn.warning(e.message)})).catch((function(e){return console.log(e)})));var n},className:"btn btn-secondary btn-sm mt-2",children:"View"}),(0,u.jsx)("button",{onClick:function(){var n;(n=null===e||void 0===e?void 0:e.keyid)&&window.confirm("Do you want to delete this record")&&fetch("".concat(mn,"/main/records/delete?key=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.status?(pn.success(e.message),se(ne.filter((function(e){return e.keyid!==n})))):pn.warning(e.message)})).catch((function(e){return console.log(e)}))},className:"btn btn-danger btn-sm mt-2",children:"Delete"}),(0,u.jsxs)("button",{onClick:function(){return n=null===e||void 0===e?void 0:e.keyid,gn(),void(n&&fetch("".concat(mn,"/main/records/get-view?key=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){if(e.status){var n=[],s=[],t=[],a=0;me(e.message[0].name),xe(e.message[0].class.toUpperCase()),be(e.message[0].payment_id),ke(e.message[0].expected_payment),Oe(e.message[0].balance),ze(e.message[0].balance_date),un.current=e.message[0].keyid,e.message.length>1?(e.message.forEach((function(e){t.push(e.DOP),n.push(e.remark),s.push(e.amount_paid),a+=parseInt(e.amount_paid)})),Je(n),Re(s),We(a),rn.current=t):(Je([e.message[0].remark]),rn.current=[e.message[0].DOP],Re([e.message[0].amount_paid]),We(e.message[0].amount_paid)),document.getElementsByClassName("edit-modal")[0].classList.add("show-modal"),document.body.style.overflow="hidden",window.scrollTo(0,-1*parseInt(window.scrollY||"0"))}else pn.warning(e.message)})).catch((function(e){return console.log(e)})));var n},className:"btn btn-light btn-sm mt-2",children:[(0,u.jsx)(d.enh,{fill:"orangered"})," Edit"]})]})]})]},(null===e||void 0===e?void 0:e.keyid)+new Date+Math.random())}))]})}),(null===ne||void 0===ne?void 0:ne.length)>0&&(0,u.jsxs)("div",{className:"pagination-buttons",children:[(0,u.jsx)("button",{onClick:function(){return xn(1)},disabled:1===de,className:"first-page",children:"First"}),(0,u.jsx)("button",{onClick:function(){return xn(de-1)},disabled:1===de,className:"prev-page",children:"Prev"}),null===Array||void 0===Array||null===(e=Array.from(null===(n=Array(le))||void 0===n?void 0:n.keys()))||void 0===e?void 0:e.map((function(e){return e<=7?(0,u.jsx)("button",{onClick:function(){return xn(e+1)},className:de-1===e?"active":"",children:e+1},e+1):""})),(0,u.jsx)("button",{onClick:function(){return xn(de+1)},disabled:de===le,className:"next-page",children:"Next"}),(0,u.jsx)("button",{onClick:function(){return xn(le)},disabled:de===le,className:"last-page",children:"Last"})]})]}),(0,u.jsx)(o.Z,{title:"",classModal:"print-modal",btn:"Print",save:function(){window.print()},children:(0,u.jsxs)("div",{className:"print-container",children:[(0,u.jsx)("div",{className:"img-cont",children:(0,u.jsx)("img",{src:r,alt:"logo"})}),(0,u.jsx)("h4",{className:"h5",children:"School Fees Report"}),(0,u.jsxs)("div",{style:{textAlign:"center"},children:["DATE & TIME \xa0 ",new Date(Date.now()).toLocaleDateString()," ","\xa0 ",new Date(Date.now()).toLocaleTimeString()]}),(0,u.jsx)("hr",{}),(0,u.jsxs)("div",{className:"student-info",children:[(0,u.jsx)("h4",{className:"h5",children:"Student Info"}),(0,u.jsx)("div",{className:"table-responsive",children:(0,u.jsx)("div",{className:"p-table",children:(0,u.jsxs)("div",{className:"tbody",children:[(0,u.jsx)("span",{children:"Name"}),(0,u.jsx)("span",{className:"span",children:null===he||void 0===he?void 0:he.toUpperCase()}),(0,u.jsx)("span",{children:"Class"}),(0,u.jsx)("span",{className:"last span",children:null===je||void 0===je?void 0:je.toUpperCase()}),(0,u.jsx)("hr",{}),(0,u.jsx)("span",{children:"Payment ID"}),(0,u.jsx)("span",{className:"span",children:Ne}),(0,u.jsx)("span",{children:"DOP"}),(0,u.jsx)("span",{className:"last span",children:null===rn||void 0===rn?void 0:rn.current[0]})]})})})]}),(0,u.jsxs)("div",{className:"fee-info",children:[(0,u.jsx)("h4",{className:"h5",children:"Fee Info"}),(0,u.jsx)("div",{className:"table-responsive",children:(0,u.jsx)("div",{className:"p-table",children:(0,u.jsxs)("div",{className:"tbody",children:[(0,u.jsx)("span",{children:"Date"}),(0,u.jsx)("span",{children:"Paid"}),(0,u.jsx)("span",{className:"last",children:"Remark"}),Ue&&(null===Ue||void 0===Ue?void 0:Ue.map((function(e,n){var s;return(0,u.jsxs)("span",{title:Pe[n],className:"tr",children:[(0,u.jsx)("span",{children:null===rn||void 0===rn?void 0:rn.current[n]}),(0,u.jsx)("span",{children:null===(s=Ae[n])||void 0===s?void 0:s.toLocaleString()}),(0,u.jsx)("span",{className:"last",children:null===e||void 0===e?void 0:e.toUpperCase()})]},e+Math.random())})))]})})})]}),(0,u.jsxs)("div",{className:"others-cont",children:[(0,u.jsxs)("div",{className:"others",children:[" ",(0,u.jsx)("div",{children:"Total Fees:"}),"\u20a6",null===we||void 0===we?void 0:we.toLocaleString()]}),(0,u.jsxs)("div",{className:"others",children:[" ",(0,u.jsx)("div",{children:"Total Paid: "}),"\u20a6",null===Ve||void 0===Ve?void 0:Ve.toLocaleString()]}),(0,u.jsxs)("div",{className:"others",children:[" ",(0,u.jsx)("div",{children:"Balance: "}),"\u20a6",null===Le||void 0===Le?void 0:Le.toLocaleString()]})]})]})}),(0,u.jsx)(o.Z,{title:"Edit Record",classModal:"edit-modal",save:function(){var e=""!==Qe;""===un.current||""===he||""===je||""===we||""===Le?pn.warning("Try refreshing this page."):fetch("".concat(mn,"/main/records/edit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:un.current,name:he,studentClass:je,balanceDate:Qe,total:we,balance:Le,status:e}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.status?(pn.success(e.message),document.getElementsByClassName("edit-modal")[0].classList.remove("show-modal"),document.body.style.overflow="auto",document.body.style.top="",fn()):pn.warning(e.message)})).catch((function(e){return console.log(e)}))},children:(0,u.jsxs)("form",{action:"",children:[(0,u.jsxs)("div",{className:"input-cont",children:[(0,u.jsx)("label",{htmlFor:"balance-user",children:"Name"}),(0,u.jsx)("input",{type:"text",value:he.toUpperCase(),id:"balance-user",onChange:function(e){return me(e.target.value)}})]}),(0,u.jsxs)("div",{className:"input-cont",children:[(0,u.jsx)("label",{htmlFor:"class",children:"Class"}),(0,u.jsxs)("select",{id:"class",value:je,onChange:function(e){return function(e){var n,s;xe(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value),jn(null===e||void 0===e||null===(s=e.target)||void 0===s?void 0:s.value)}(e)},children:[(0,u.jsx)("option",{value:"",children:"Class"}),O&&O.map((function(e){return(0,u.jsx)("option",{value:e.toUpperCase(),children:e.toUpperCase()},Math.random())}))]})]}),(0,u.jsxs)("div",{className:"input-cont",children:[(0,u.jsx)("label",{htmlFor:"total",children:"Total"}),(0,u.jsx)("input",{type:"number",value:we.toLocaleString(),disabled:!0,id:"total"})]}),(0,u.jsxs)("div",{className:"input-cont",children:[(0,u.jsx)("label",{htmlFor:"balance-payment",children:"Balance"}),(0,u.jsx)("input",{type:"text",value:Le.toLocaleString(),disabled:!0,id:"balance-payment"})]}),Le>0&&(0,u.jsxs)("div",{className:"input-cont",children:[(0,u.jsx)("label",{htmlFor:"DOB",children:"Date of Balance"}),(0,u.jsx)("input",{type:"date",value:Qe,id:"DOB",onChange:function(e){return ze(e.target.value)}})]})]})})]})}},4329:function(e,n,s){e.exports=s.p+"static/media/receipt_logo.3f88e90f7d238cfb3c19.jpeg"}}]);
//# sourceMappingURL=413.b330c4d0.chunk.js.map