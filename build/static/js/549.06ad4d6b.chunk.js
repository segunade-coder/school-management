"use strict";(self.webpackChunkpaymof=self.webpackChunkpaymof||[]).push([[549],{6549:function(t,n,e){e.r(n),e.d(n,{default:function(){return l}});var i=e(885),s=e(2791),c=e(8617),o=e(7425),a=e(2120),r=e(184),l=function(){var t=(0,s.useContext)(c.T),n=t.url,e=t.setNotiNum,l=t.notifications,d=(0,s.useState)([]),u=(0,i.Z)(d,2),h=u[0],f=u[1],m=(0,s.useState)(!1),j=(0,i.Z)(m,2),x=j[0],g=j[1];(0,s.useEffect)((function(){g(!0),fetch("".concat(n,"/main/records/notifications"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(t){return t.json()})).then((function(t){g(!1),t.status&&f(t.message)})).catch((function(t){g(!1),console.log(t)}))}),[]),(0,s.useEffect)((function(){e("")}),[]);return(0,r.jsxs)("div",{className:"__notifications",children:[(0,r.jsx)("h2",{children:"Notifications"}),(0,r.jsx)(a.Notifications,{position:"top-right"}),(0,r.jsx)("div",{className:"notification__container",children:x?(0,r.jsx)("div",{children:"Loading..."}):0===h.length?(0,r.jsx)("div",{children:"No Notifications yet!"}):h.map((function(t){return(0,r.jsxs)("div",{className:"1"===t.status?"alert alert-secondary noti__cont seen":"alert alert-primary noti__cont not-seen",children:[(0,r.jsx)("div",{className:"close",onClick:function(){var e;(e=t.id)&&fetch("".concat(n,"/main/records/deleteNoti?id=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(t){return t.json()})).then((function(t){t.status?(l.success(t.message),f(h.filter((function(t){return t.id!==e})))):l.warning(t.message)})).catch((function(t){l.warning("Something went wrong"),console.log(t)}))},children:(0,r.jsx)(o.z2n,{fill:"red"})}),(0,r.jsxs)("div",{className:"title alert-heading h6",children:[" ",(0,r.jsx)(o.oix,{}),t.title]}),(0,r.jsx)("div",{className:"body alert-body",children:(0,r.jsx)("div",{className:"content",children:t.text})}),(0,r.jsx)("div",{style:{textAlign:"right"},children:(0,r.jsxs)("small",{children:[new Date(t.created_at).toLocaleDateString()," ","\xa0"," "]})})]},t.payment_id+Math.random())}))})]})}}}]);
//# sourceMappingURL=549.06ad4d6b.chunk.js.map