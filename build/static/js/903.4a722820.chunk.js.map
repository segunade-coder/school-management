{"version":3,"file":"static/js/903.4a722820.chunk.js","mappings":"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","sources":["components/Main/debtors/Debtors.jsx","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-html-table-to-excel/index.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Notifications } from \"react-push-notification\";\r\nimport { MainContext } from \"../Helpers/Context\";\r\nimport \"./debtors.css\";\r\nimport { RiSearchLine } from \"react-icons/ri\";\r\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel'\r\nconst Debtors = () => {\r\n  const [filteredClass, setFilteredClass] = useState(\"\");\r\n  const [classes, setClasses] = useState([]);\r\n  const [terms, setTerms] = useState([]);\r\n  const [sessions, setSessions] = useState([]);\r\n  const [filteredDate, setFilteredDate] = useState(\"\");\r\n  const [filteredSess, setFilteredSess] = useState(\"\");\r\n  const [filteredTerm, setFilteredTerm] = useState(\"\");\r\n  const [sort, setSort] = useState(\"debtors\");\r\n  const [debtors, setDebtors] = useState([])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [others, setOthers] = useState([])\r\n  const [paymentForArr, setPaymentForArr] = useState([])\r\n  const [overAllTotal, setOverAllTotal] = useState(0)\r\n  let { url, notifications } = useContext(MainContext);\r\n  \r\n  let fetchFilters = () => {\r\n    fetch(`${url}/main/payment/classes`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status) {\r\n          let newCls;\r\n          newCls = data.message[0];\r\n          try {\r\n            setTerms(newCls.terms.split(\",\"));\r\n            setSessions(newCls.sessions.split(\",\"));\r\n            setClasses(JSON.parse(newCls.classes));\r\n            setFilteredSess(newCls.current_session);\r\n            setFilteredTerm(newCls.current_term.toUpperCase());\r\n            setPaymentForArr(newCls.payment_for.split(\",\"))\r\n          } catch {\r\n            notifications.warning(\"failed to set datas. Try reloading\");\r\n          }\r\n        }\r\n      })\r\n\r\n      .catch((err) => console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    fetchFilters();\r\n    return () => {\r\n      setTerms([]);\r\n      setSessions([]);\r\n      setClasses([]);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [document.readyState]);\r\n\r\n  let findRecord = (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      filteredDate === \"\" ||\r\n      filteredClass === \"\" ||\r\n      filteredTerm === \"\" ||\r\n      filteredSess === \"\" ||\r\n      sort === \"\"\r\n    ) {\r\n      notifications.warning(\"Enter the necessaey fields\");\r\n      return;\r\n    } else {\r\n      setIsLoading(true);\r\n      fetch(`${url}/main/records/debtors`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({\r\n          filteredDate,\r\n          filteredClass: filteredClass.toLowerCase(),\r\n          filteredSess,\r\n          filteredTerm: filteredTerm.toLowerCase(),\r\n          sort: sort.toLowerCase(),\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n          if (data.status) {\r\n            setDebtors(data.message);\r\n            setOthers(data.totalArr);\r\n            setOverAllTotal(0);\r\n          } else {\r\n            notifications.warning(data.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading(false);\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n  let autoTotal = () => {\r\n    let overTotal = 0;\r\n    let legitRecord = [];\r\n    legitRecord = debtors.map((record) => record?.expected_payment && record);\r\n    legitRecord = legitRecord.filter((record) => typeof record === \"object\");\r\n    legitRecord.map((total) => {\r\n      let sub = parseInt(total?.expected_payment) - parseInt(total?.balance);\r\n      return (overTotal += sub);\r\n    });\r\n    setOverAllTotal(overTotal);\r\n  };\r\n  return (\r\n    <div className=\"__debtors\">\r\n      <Notifications position=\"top-right\" />\r\n      <h2>Debtors</h2>\r\n      <form className=\"search-container container\">\r\n        <label htmlFor=\"name\">Date</label>\r\n        <div className=\"input-filter-cont\">\r\n          <input\r\n            type=\"date\"\r\n            value={filteredDate}\r\n            onChange={(e) => setFilteredDate(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <select\r\n          value={filteredClass}\r\n          onChange={(e) => setFilteredClass(e.target.value)}\r\n          className=\"filter-class\"\r\n          required\r\n        >\r\n          <option value=\"\">Class</option>\r\n          {classes &&\r\n            classes.map((elem) => (\r\n              <option value={elem.toUpperCase()} key={Math.random()}>\r\n                {elem.toUpperCase()}\r\n              </option>\r\n            ))}\r\n        </select>\r\n        <select\r\n          value={filteredTerm}\r\n          onChange={(e) => setFilteredTerm(e.target.value)}\r\n          className=\"filter-term\"\r\n        >\r\n          <option value=\"\">Term</option>\r\n          {terms &&\r\n            terms.map((elem) => (\r\n              <option value={elem.toUpperCase()} key={Math.random()}>\r\n                {elem.toUpperCase()}\r\n              </option>\r\n            ))}\r\n        </select>\r\n        <select\r\n          value={filteredSess}\r\n          onChange={(e) => setFilteredSess(e.target.value)}\r\n          className=\"filter-sess\"\r\n        >\r\n          <option value=\"\">Session</option>\r\n          {sessions &&\r\n            sessions.map((elem) => (\r\n              <option value={elem.toUpperCase()} key={Math.random()}>\r\n                {elem.toUpperCase()}\r\n              </option>\r\n            ))}\r\n        </select>\r\n        <select\r\n          value={sort}\r\n          onChange={(e) => setSort(e.target.value)}\r\n          className=\"filter-sort\"\r\n        >\r\n          <option value=\"debtors\">DEBTORS</option>\r\n          <option value=\"cleared\">CLEARED</option>\r\n          <option value=\"all\">ALL</option>\r\n          {paymentForArr &&\r\n            paymentForArr.map((elem) => (\r\n              <option value={elem.toUpperCase()} key={Math.random()}>\r\n                {elem.toUpperCase()}\r\n              </option>\r\n            ))}\r\n        </select>\r\n        <div className=\"btn-cont\">\r\n          <button\r\n            onClick={(e) => findRecord(e)}\r\n            className=\"btn btn-success btn-sm\"\r\n          >\r\n            <RiSearchLine />\r\n            <span style={{ marginLeft: \".3rem\" }}>Find</span>\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div className=\"debtors-table\">\r\n        {debtors.length !== 0 && (\r\n          <>\r\n            <table\r\n              className=\"table table-responsive table-bordered\"\r\n              id=\"table-to-xls\"\r\n            >\r\n              <thead className=\"thead-dark\">\r\n                <tr>\r\n                  <th>Name</th>\r\n                  <th>Id</th>\r\n                  <th>Class</th>\r\n                  <th>Total paid</th>\r\n                  <th>Balance</th>\r\n                  <th>Total Fee</th>\r\n                  <th>DOG</th>\r\n                  <th>DOB</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {isLoading ? (\r\n                  <tr className=\"loading\">\r\n                    <td colSpan={8}>loading...</td>\r\n                  </tr>\r\n                ) : debtors.length === 0 ? (\r\n                  <tr className=\"loading\">\r\n                    <td colSpan={8} style={{ textAlign: \"center\" }}>\r\n                      No debtors available yet!\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  debtors.map((record, index) => (\r\n                    <tr\r\n                      key={record.keyid + new Date() + Math.random()}\r\n                      title={record?.remark}\r\n                      className={\r\n                        !record?.expected_payment || record?.balance !== \"0\"\r\n                          ? \"alert alert-danger\"\r\n                          : \"\"\r\n                      }\r\n                    >\r\n                      <td>\r\n                        {record?.name?.toUpperCase()}{\" \"}\r\n                        <small>\r\n                          {record?.expected_payment && (\r\n                            <b>({others[index]?.total})</b>\r\n                          )}\r\n                        </small>{\" \"}\r\n                      </td>\r\n                      <td>{record?.payment_id} </td>\r\n                      <td>{record?.class?.toUpperCase()} </td>\r\n                      <td>\r\n                        {record.expected_payment &&\r\n                          (\r\n                            record?.expected_payment - record?.balance\r\n                          ).toLocaleString()}{\" \"}\r\n                      </td>\r\n                      <td>{record?.balance?.toLocaleString() ?? \"\"} </td>\r\n                      <td>\r\n                        {record?.expected_payment?.toLocaleString() ?? \"\"}{\" \"}\r\n                      </td>\r\n                      <td>{record?.DOP} </td>\r\n                      <td>\r\n                        {\" \"}\r\n                        {record?.balance > 0 && (\r\n                          <>\r\n                            <span>{record?.balance_date || \"No Date\"}</span>{\" \"}\r\n                            <span>\r\n                              {new Date(record?.balance_date) <\r\n                                new Date(Date.now()) && \"(Expired)\"}\r\n                            </span>\r\n                          </>\r\n                        )}{\" \"}\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n                <tr colSpan={8}>\r\n                  <td\r\n                    onClick={() => autoTotal()}\r\n                    style={{ fontWeight: \"bold\", cursor: \"pointer\" }}\r\n                    title=\"click for total\"\r\n                  >\r\n                    Total:{\" \"}\r\n                  </td>\r\n                  <td colSpan={7}>\r\n                    &#x20A6;\r\n                    <span>{overAllTotal && overAllTotal.toLocaleString()}</span>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <div className=\"container\">\r\n              <ReactHTMLTableToExcel\r\n                id=\"xls-button\"\r\n                className=\"xls-button btn btn-dark btn-sm\"\r\n                table=\"table-to-xls\"\r\n                filename={\r\n                  filteredClass.replace(/ /g, \"_\") +\r\n                  \"_\" +\r\n                  new Date(filteredDate)\r\n                    .toLocaleDateString()\r\n                    .replace(/ /g, \"_\") +\r\n                  \"_\" +\r\n                  new Date(Date.now()).toLocaleTimeString().replace(/ /g, \"_\")\r\n                }\r\n                sheet=\"tablexls\"\r\n                buttonText=\"Download XLS\"\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Debtors;\r\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global window, document, Blob */\n\n\nvar propTypes = {\n  table: _propTypes2.default.string.isRequired,\n  filename: _propTypes2.default.string.isRequired,\n  sheet: _propTypes2.default.string.isRequired,\n  id: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  buttonText: _propTypes2.default.string\n};\n\nvar defaultProps = {\n  id: 'button-download-as-xls',\n  className: 'button-download',\n  buttonText: 'Download'\n};\n\nvar ReactHTMLTableToExcel = function (_Component) {\n  _inherits(ReactHTMLTableToExcel, _Component);\n\n  function ReactHTMLTableToExcel(props) {\n    _classCallCheck(this, ReactHTMLTableToExcel);\n\n    var _this = _possibleConstructorReturn(this, (ReactHTMLTableToExcel.__proto__ || Object.getPrototypeOf(ReactHTMLTableToExcel)).call(this, props));\n\n    _this.handleDownload = _this.handleDownload.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactHTMLTableToExcel, [{\n    key: 'handleDownload',\n    value: function handleDownload() {\n      if (!document) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error('Failed to access document object');\n        }\n\n        return null;\n      }\n\n      if (document.getElementById(this.props.table).nodeType !== 1 || document.getElementById(this.props.table).nodeName !== 'TABLE') {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error('Provided table property is not html table element');\n        }\n\n        return null;\n      }\n\n      var table = document.getElementById(this.props.table).outerHTML;\n      var sheet = String(this.props.sheet);\n      var filename = String(this.props.filename) + '.xls';\n\n      var uri = 'data:application/vnd.ms-excel;base64,';\n      var template = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-mic' + 'rosoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><meta cha' + 'rset=\"UTF-8\"><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:Exce' + 'lWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/>' + '</x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></' + 'xml><![endif]--></head><body>{table}</body></html>';\n\n      var context = {\n        worksheet: sheet || 'Worksheet',\n        table: table\n      };\n\n      // If IE11\n      if (window.navigator.msSaveOrOpenBlob) {\n        var fileData = ['' + ('<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-mic' + 'rosoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><meta cha' + 'rset=\"UTF-8\"><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:Exce' + 'lWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/>' + '</x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></' + 'xml><![endif]--></head><body>') + table + '</body></html>'];\n        var blobObject = new Blob(fileData);\n        document.getElementById('react-html-table-to-excel').click()(function () {\n          window.navigator.msSaveOrOpenBlob(blobObject, filename);\n        });\n\n        return true;\n      }\n\n      var element = window.document.createElement('a');\n      element.href = uri + ReactHTMLTableToExcel.base64(ReactHTMLTableToExcel.format(template, context));\n      element.download = filename;\n      document.body.appendChild(element);\n      element.click();\n      document.body.removeChild(element);\n\n      return true;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'button',\n        {\n          id: this.props.id,\n          className: this.props.className,\n          type: 'button',\n          onClick: this.handleDownload\n        },\n        this.props.buttonText\n      );\n    }\n  }], [{\n    key: 'base64',\n    value: function base64(s) {\n      return window.btoa(unescape(encodeURIComponent(s)));\n    }\n  }, {\n    key: 'format',\n    value: function format(s, c) {\n      return s.replace(/{(\\w+)}/g, function (m, p) {\n        return c[p];\n      });\n    }\n  }]);\n\n  return ReactHTMLTableToExcel;\n}(_react.Component);\n\nReactHTMLTableToExcel.propTypes = propTypes;\nReactHTMLTableToExcel.defaultProps = defaultProps;\n\nexports.default = ReactHTMLTableToExcel;\n"],"names":["useState","filteredClass","setFilteredClass","classes","setClasses","terms","setTerms","sessions","setSessions","filteredDate","setFilteredDate","filteredSess","setFilteredSess","filteredTerm","setFilteredTerm","sort","setSort","debtors","setDebtors","isLoading","setIsLoading","others","setOthers","paymentForArr","setPaymentForArr","overAllTotal","setOverAllTotal","useContext","MainContext","url","notifications","useEffect","fetch","method","headers","credentials","then","res","json","data","status","newCls","message","split","JSON","parse","current_session","current_term","toUpperCase","payment_for","warning","catch","err","console","log","document","readyState","className","Notifications","position","htmlFor","type","value","onChange","e","target","required","map","elem","Math","random","onClick","preventDefault","body","stringify","toLowerCase","totalArr","findRecord","style","marginLeft","length","id","colSpan","textAlign","record","index","title","remark","expected_payment","balance","name","total","payment_id","class","toLocaleString","DOP","balance_date","Date","now","keyid","overTotal","filter","sub","parseInt","autoTotal","fontWeight","cursor","table","filename","replace","toLocaleDateString","toLocaleTimeString","sheet","buttonText","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","exports","shim","props","propName","componentName","location","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","_createClass","defineProperties","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","propTypes","ReactHTMLTableToExcel","_Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","handleDownload","bind","subClass","superClass","create","constructor","setPrototypeOf","_inherits","getElementById","nodeType","nodeName","outerHTML","String","context","worksheet","window","navigator","msSaveOrOpenBlob","blobObject","Blob","click","createElement","href","base64","format","download","appendChild","removeChild","s","btoa","unescape","encodeURIComponent","c","m","p","Component","defaultProps"],"sourceRoot":""}