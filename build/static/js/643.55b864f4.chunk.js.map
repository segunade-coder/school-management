{"version":3,"file":"static/js/643.55b864f4.chunk.js","mappings":"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","sources":["components/Main/students/Students.jsx"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  RiAddLine,\r\n  RiArrowDownLine,\r\n  RiCheckboxBlankCircleFill,\r\n  RiCheckLine,\r\n  RiCloseFill,\r\n  RiEdit2Line,\r\n  RiFileCopy2Line,\r\n  RiRefreshLine,\r\n  RiSearchLine,\r\n  RiUpload2Fill,\r\n} from \"react-icons/ri\";\r\nimport ModalCont from \"../../small_comps/modal/ModalCont\";\r\nimport \"./students.css\";\r\nimport { MainContext } from \"../Helpers/Context\";\r\nimport Loader from \"../../small_comps/loader/Loader\";\r\nimport { Notifications } from \"react-push-notification\";\r\nimport * as XLSX from \"xlsx\";\r\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\r\n\r\nconst Students = () => {\r\n  const [file, setFile] = useState([]);\r\n  const [headers, setHeaders] = useState([]);\r\n  const [classes, setClasses] = useState([]);\r\n  const [sessionArray, setSessionArray] = useState([]);\r\n  const [termArray, setTermArray] = useState([]);\r\n  let { url, notifications } = useContext(MainContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [currentTerm, setCurrentTerm] = useState(\"\");\r\n  const [currentSession, setCurrentSession] = useState(\"\");\r\n  const [filteredClass, setFilteredClass] = useState(\"\");\r\n  const [guardianName, setGuardianName] = useState(\"\");\r\n  const [tel, setTel] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isLoading2, setIsLoading2] = useState(false);\r\n  const [isLoading3, setIsLoading3] = useState(false);\r\n  const [autoname, setAutoName] = useState([]);\r\n  const [searchId, setSearchId] = useState(0);\r\n  const [students, setStudents] = useState([]);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [currentPage, setcurrentPage] = useState(1);\r\n  const [updateName, setUpdateName] = useState(\"\");\r\n  const [updateClass, setUpdateClass] = useState(\"\");\r\n  const [updateGuardianName, setUpdateGuardianName] = useState(\"\");\r\n  const [updateTel, setUpdateTel] = useState(\"\");\r\n  const [updateAddress, setUpdateAddress] = useState(\"\");\r\n  const [updateAdmNo, setUpdateAdmNo] = useState(\"\");\r\n  const [UpdateGuardianId, setUpdateGuardianId] = useState(\"\");\r\n  const [updatestatus, setUpdatestatus] = useState(true);\r\n  const [updateDiscount, setUpdateDiscount] = useState(\"\");\r\n  const [path, setPath] = useState(\"students\");\r\n  const [selectedItem, setSelectedItem] = useState([]);\r\n  const [selectAll, setSelectAll] = useState(false);\r\n  const [showSelect, setShowSelect] = useState(false);\r\n  const [promoteClass, setPromoteClass] = useState(\"\");\r\n  const [promoteLoading, setPromoteLoading] = useState(false);\r\n  const [isLoadingUpload, setIsLoadingUpload] = useState(false);\r\n  const [limit, setLimit] = useState(6);\r\n  const [Gname, setGName] = useState(\"\");\r\n  const [gAutoname, setGAutoname] = useState([]);\r\n  const [guardianArr, setGuardianArr] = useState([]);\r\n  const [copySuccess, setCopySuccess] = useState(false);\r\n  const [studentTotal, setStudentTotal] = useState(0);\r\n  const [changeReceipt, setchangeReceipt] = useState(false);\r\n  let filterArray = [];\r\n  let id = useRef(0);\r\n  let autoCom = useRef();\r\n\r\n  let fetchFilters = () => {\r\n    fetch(`${url}/main/payment/classes`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status) {\r\n          let newCls;\r\n          newCls = data.message[0];\r\n          try {\r\n            setClasses(JSON.parse(newCls.classes));\r\n            setCurrentSession(data?.message[0]?.current_session);\r\n            setCurrentTerm(data?.message[0]?.current_term);\r\n            setTermArray(data?.message[0]?.terms?.split(\",\"));\r\n            setSessionArray(data?.message[0]?.sessions?.split(\",\"));\r\n          } catch {\r\n            notifications.warning(\"failed to set datas. Try reloading\");\r\n          }\r\n        }\r\n      })\r\n\r\n      .catch((err) => console.log(err));\r\n  };\r\n  let fetchRecord = () => {\r\n    setIsLoading(true);\r\n    fetch(\r\n      `${url}/main/students/${path}?page=${currentPage}&limit=${limit}&filteredClass=${filteredClass}`,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setIsLoading(false);\r\n        if (data.status) {\r\n          try {\r\n            setStudents(data.message);\r\n            setStudentTotal(data.total);\r\n            setTotalPages(Math.ceil(data.total / limit));\r\n          } catch {\r\n            console.log(\"failed to set datas\");\r\n          }\r\n        } else {\r\n          notifications.warning(data.message);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFilters();\r\n    return () => {\r\n      setClasses([]);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [document.readyState]);\r\n\r\n  useEffect(() => {\r\n    fetchRecord();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentPage, path, limit]);\r\n\r\n  let showModal = () => {\r\n    setName(\"\");\r\n    setGuardianName(\"\");\r\n    setTel(\"\");\r\n    setFilteredClass(\"\");\r\n    document\r\n      .getElementsByClassName(\"student-add-modal\")[0]\r\n      .classList.add(\"show-modal\");\r\n    document.body.style.overflow = \"hidden\";\r\n    window.scrollTo(0, parseInt(window.scrollY || \"0\") * -1);\r\n  };\r\n  let saveStudent = () => {\r\n    if (filteredClass === \"\" || name === \"\" || guardianName === \"\") {\r\n      notifications.warning(\"Enter necessary Fields\");\r\n    } else {\r\n      setIsLoading2(true);\r\n      fetch(`${url}/main/students/add-student`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name: name?.trim()?.toLowerCase(),\r\n          filteredClass: filteredClass?.trim()?.toLowerCase(),\r\n          guardianName: guardianName?.trim()?.toLowerCase(),\r\n          tel: tel?.trim(),\r\n        }),\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setIsLoading2(false);\r\n          if (data.status) {\r\n            notifications.success(data.message);\r\n            setName(\"\");\r\n            setFilteredClass(\"\");\r\n            setPath(\"students\");\r\n            fetchRecord();\r\n            document\r\n              .getElementsByClassName(\"student-add-modal\")[0]\r\n              .classList.remove(\"show-modal\");\r\n            document.body.style.overflow = \"auto\";\r\n            document.body.style.top = \"\";\r\n          } else {\r\n            notifications.warning(data.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading2(false);\r\n        });\r\n    }\r\n  };\r\n  let handleUpload = (e) => {\r\n    const files = e.target.files[0];\r\n    setFile([]);\r\n    setHeaders([]);\r\n    const promise = new Promise((resolve, reject) => {\r\n      const FileRead = new FileReader();\r\n      FileRead.readAsArrayBuffer(files);\r\n\r\n      FileRead.onload = (e) => {\r\n        const bufferArray = e.target.result;\r\n\r\n        const wb = XLSX.read(bufferArray, { type: \"buffer\" });\r\n        const wsname = wb.SheetNames[0];\r\n        const ws = wb.Sheets[wsname];\r\n        const data = XLSX.utils.sheet_to_json(ws);\r\n        resolve(data);\r\n      };\r\n      FileRead.onerror = (error) => {\r\n        reject(error);\r\n      };\r\n    });\r\n    promise.then((d) => {\r\n      if (d?.length !== 0) {\r\n        let header = d[0];\r\n        header = Object.keys(header);\r\n        setHeaders(header);\r\n        setFile(d);\r\n      }\r\n      document\r\n        .getElementsByClassName(\"upload-modal\")[0]\r\n        .classList.add(\"show-modal\");\r\n      document.body.style.overflow = \"hidden\";\r\n      window.scrollTo(0, parseInt(window.scrollY || \"0\") * -1);\r\n    });\r\n  };\r\n  let saveUpload = () => {\r\n    let toLower = (str) => {\r\n      let newStr = str?.toString()?.toLowerCase()?.trim();\r\n      return newStr;\r\n    };\r\n    let formattedHeader = headers?.map((head) =>\r\n      head?.trim()?.toLowerCase().replace(/ /g, \"_\")\r\n    );\r\n    let tempFile = [];\r\n    console.log(file);\r\n    file.forEach((element) => {\r\n      let newObj = [];\r\n      for (let key in element) {\r\n        newObj.push({ [key]: toLower(element[key]) });\r\n      }\r\n      tempFile.push(newObj);\r\n    });\r\n    setIsLoadingUpload(true);\r\n    fetch(`${url}/main/students/add-student-upload`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        header: formattedHeader,\r\n        file: tempFile,\r\n      }),\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setIsLoadingUpload(false);\r\n        if (data.status) {\r\n          notifications.success(data.message);\r\n          setName(\"\");\r\n          setFilteredClass(\"\");\r\n          setPath(\"students\");\r\n          fetchRecord();\r\n          document\r\n            .getElementsByClassName(\"upload-modal\")[0]\r\n            .classList.remove(\"show-modal\");\r\n          document.body.style.overflow = \"auto\";\r\n          document.body.style.top = \"\";\r\n        } else {\r\n          notifications.warning(data.message);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsLoadingUpload(false);\r\n      });\r\n  };\r\n  let findId = (e) => {\r\n    e.preventDefault();\r\n    setAutoName([]);\r\n    let status = false;\r\n    setcurrentPage(1);\r\n    if (searchId > 0) status = true;\r\n    else status = false;\r\n    let datas = {\r\n      searchId,\r\n      name: name.trim().toLowerCase(),\r\n      status,\r\n    };\r\n    if (searchId || name) {\r\n      fetch(`${url}/main/students/findId`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(datas),\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.status) {\r\n            setStudents((prev) => data.message);\r\n          }\r\n        })\r\n\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      notifications.warning(\"Empty search\");\r\n    }\r\n  };\r\n  let autoCompleteName = () => {\r\n    setSearchId(0);\r\n    if (name.length > 1) {\r\n      if (filteredClass !== \"\") {\r\n        filterArray.push({ class: filteredClass?.trim()?.toLowerCase() });\r\n      }\r\n      if (filterArray.length > 0) {\r\n        fetch(`${url}/main/students/find-name`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            name: name?.trim().toLowerCase(),\r\n            condition: true,\r\n            filterArray,\r\n          }),\r\n          credentials: \"include\",\r\n        })\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (data.status) {\r\n              setAutoName(data.message);\r\n            }\r\n          })\r\n\r\n          .catch((err) => console.log(err));\r\n      } else {\r\n        fetch(`${url}/main/students/find-name`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            name,\r\n            condition: false,\r\n          }),\r\n          credentials: \"include\",\r\n        })\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (data.status) {\r\n              setAutoName(data.message);\r\n            }\r\n          })\r\n\r\n          .catch((err) => console.log(err));\r\n      }\r\n    } else {\r\n      setAutoName([]);\r\n    }\r\n  };\r\n  let autoGCompleteName = () => {\r\n    setSearchId(0);\r\n    if (Gname.length > 1) {\r\n      fetch(`${url}/main/students/find-g-name`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name: Gname?.trim().toLowerCase(),\r\n        }),\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.status) {\r\n            setGAutoname(data.message);\r\n          }\r\n        })\r\n\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      setGAutoname([]);\r\n    }\r\n  };\r\n  let clearG = (e) => {\r\n    e.preventDefault();\r\n    setGName(\"\");\r\n    setGAutoname([]);\r\n    setSearchId(0);\r\n    setGuardianArr([]);\r\n  };\r\n  let clear = (e) => {\r\n    e.preventDefault();\r\n    setPath(\"students\");\r\n    setcurrentPage(1);\r\n    setName(\"\");\r\n    setFilteredClass(\"\");\r\n    setAutoName([]);\r\n    fetchRecord();\r\n  };\r\n  const clickGAutoName = (id) => {\r\n    let details = gAutoname.find((item) => item.guardian_id === id);\r\n    setGName(details?.guardian_name?.toUpperCase());\r\n    setGAutoname([]);\r\n    setSearchId(id);\r\n  };\r\n  const clickAutoName = (id) => {\r\n    let details = autoname.find((item) => item.id === id);\r\n    setName(details.name.toUpperCase());\r\n    setAutoName([]);\r\n    setSearchId(id);\r\n  };\r\n  let handlePageChange = (newPage) => {\r\n    setcurrentPage(newPage);\r\n    fetch(\r\n      `${url}/main/students/${path}?page=${currentPage}&limit=${limit}&filteredClass=${filteredClass}`,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setIsLoading(false);\r\n        if (data.status) {\r\n          try {\r\n            setStudents(data.message);\r\n            // console.log(data.message)\r\n          } catch {\r\n            console.log(\"failed to set datas\");\r\n          }\r\n        } else {\r\n          notifications.warning(data.message);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n  let deleteRecord = (key) => {\r\n    if (key) {\r\n      if (window.confirm(\"Do you want to delete this student\")) {\r\n        fetch(`${url}/main/students/delete?key=${key}`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          credentials: \"include\",\r\n        })\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (data.status) {\r\n              notifications.success(data.message);\r\n              setStudents(students.filter((data) => data.id !== key));\r\n            } else {\r\n              notifications.warning(data.message);\r\n            }\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    }\r\n  };\r\n  let reset = () => {\r\n    setUpdateName(\"\");\r\n    setUpdateClass(\"\");\r\n    setUpdateGuardianName(\"\");\r\n    setUpdateGuardianId(\"\");\r\n    setUpdateAdmNo(\"\");\r\n    setUpdateTel(\"\");\r\n    setUpdateAddress(\"\");\r\n    setUpdatestatus(\"\");\r\n  };\r\n  let editRecord = (key) => {\r\n    reset();\r\n    if (key) {\r\n      fetch(`${url}/main/students/get-view?key=${key}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res?.json())\r\n        .then((data) => {\r\n          if (data?.status) {\r\n            setUpdateName(data?.message[0]?.name?.toUpperCase());\r\n            setUpdateClass(data?.message[0]?.class.toUpperCase());\r\n            id.current = data?.message[0]?.id;\r\n            setUpdateGuardianName(\r\n              data?.message[0]?.guardian_name?.toUpperCase()\r\n            );\r\n            setUpdateGuardianId(data?.message[0]?.guardian_id);\r\n            setUpdateAdmNo(data?.message[0]?.adm_no);\r\n            setUpdateTel(data?.message[0]?.phone_number);\r\n            data?.message[0]?.status?.toLowerCase() === \"active\"\r\n              ? setUpdatestatus(true)\r\n              : setUpdatestatus(false);\r\n            setUpdateAddress(data?.message[0]?.address?.toUpperCase());\r\n            setUpdateDiscount(\r\n              data?.message[0]?.discounts !== \"\"\r\n                ? data?.message[0]?.discounts?.toUpperCase()\r\n                : \"NONE\"\r\n            );\r\n            document\r\n              .getElementsByClassName(\"edit-modal\")[0]\r\n              .classList.add(\"show-modal\");\r\n            document.body.style.overflow = \"hidden\";\r\n            window.scrollTo(0, parseInt(window.scrollY || \"0\") * -1);\r\n          } else {\r\n            notifications.warning(data.message);\r\n          }\r\n          // console.log(data.message[0].name, viewRemark);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n  let saveEdit = () => {\r\n    if (updateName === \"\" || updateClass === \"\" || updateGuardianName === \"\") {\r\n      notifications.warning(\"Enter necessary Fields\");\r\n    } else {\r\n      setIsLoading3(true);\r\n      fetch(`${url}/main/students/save-edit`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          id: id.current,\r\n          name: updateName?.trim()?.toLowerCase(),\r\n          newClass: updateClass?.trim()?.toLowerCase(),\r\n          guardianName: updateGuardianName?.trim()?.toLowerCase(),\r\n          tel: updateTel?.trim(),\r\n          address: updateAddress?.toLowerCase()?.trim(),\r\n          guardianID: UpdateGuardianId.toLowerCase().trim(),\r\n          studentAdm: updateAdmNo?.toLowerCase()?.trim(),\r\n          discounts: updateDiscount?.trim()?.toLowerCase(),\r\n          status: updatestatus,\r\n        }),\r\n        credentials: \"include\",\r\n      })\r\n        .then((res) => res?.json())\r\n        .then((data) => {\r\n          setIsLoading3(false);\r\n          if (data.status) {\r\n            notifications.success(data.message);\r\n            document\r\n              .getElementsByClassName(\"edit-modal\")[0]\r\n              .classList.remove(\"show-modal\");\r\n            document.body.style.overflow = \"auto\";\r\n            document.body.style.top = \"\";\r\n          } else {\r\n            notifications.warning(data.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading3(false);\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n  let autoKey = () => {\r\n    let randomKey = function () {\r\n      let key = Date.now() + parseInt(Math.random().toString().slice(2));\r\n      return key.toString(30).repeat(2);\r\n    };\r\n    if (UpdateGuardianId === \"\") setUpdateGuardianId(randomKey() + randomKey());\r\n  };\r\n  let changeClass = (e) => {\r\n    setFilteredClass(e.target.value);\r\n    if (e?.target?.value === \"\") {\r\n      setPath(\"students\");\r\n      fetchRecord();\r\n    } else {\r\n      setPath(\"class-view\");\r\n      setIsLoading(true);\r\n      setcurrentPage(1);\r\n      fetch(\r\n        `${url}/main/students/class-view?page=1&limit=${limit}&filteredClass=${e?.target?.value}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          credentials: \"include\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n          if (data.status) {\r\n            try {\r\n              setStudents(data.message);\r\n              setTotalPages(Math.ceil(data?.total / limit));\r\n              setStudentTotal(data?.total);\r\n            } catch {\r\n              console.log(\"failed to set datas\");\r\n            }\r\n          } else {\r\n            notifications.warning(data.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setIsLoading(false);\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n  let showSelectFnc = (e) => {\r\n    e.preventDefault();\r\n    setPromoteClass(\"\");\r\n    setSelectedItem([]);\r\n    setSelectAll(false);\r\n    setShowSelect(!showSelect);\r\n  };\r\n  let selectFnc = (item) => {\r\n    if (selectedItem.includes(item)) {\r\n      setSelectedItem(selectedItem.filter((i) => i !== item));\r\n    } else {\r\n      setSelectedItem([...selectedItem, item]);\r\n    }\r\n  };\r\n  let selectAllFnc = (event) => {\r\n    setSelectAll(event.target.checked);\r\n    if (event?.target?.checked) {\r\n      setSelectedItem(students.map((i) => i.id));\r\n    } else {\r\n      setSelectedItem([]);\r\n    }\r\n  };\r\n  let savePromote = (e) => {\r\n    e.preventDefault();\r\n    if (selectedItem.length === 0 || promoteClass === \"\") {\r\n      notifications.warning(\"Nothing to update\");\r\n    } else {\r\n      setPromoteLoading(true);\r\n      fetch(`${url}/main/students/promote`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({\r\n          ids: selectedItem,\r\n          promoteClass: promoteClass?.trim()?.toLowerCase(),\r\n          receipt: changeReceipt,\r\n          term: currentTerm.trim()?.toLowerCase(),\r\n          session: currentSession,\r\n        }),\r\n      })\r\n        .then((res) => res?.json())\r\n        .then((data) => {\r\n          setPromoteLoading(false);\r\n          if (data?.status) {\r\n            notifications.success(data?.message);\r\n            fetchRecord();\r\n            setShowSelect(false);\r\n          } else {\r\n            notifications.warning(data?.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setPromoteLoading(false);\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n  let setLimitFnc = (e) => {\r\n    setcurrentPage(1);\r\n    setLimit(e?.target?.value);\r\n  };\r\n  let searchByGuardianShowModal = (e) => {\r\n    e.preventDefault();\r\n    setGName(\"\");\r\n    setGAutoname([]);\r\n    setSearchId(0);\r\n    setGuardianArr([]);\r\n    document\r\n      .getElementsByClassName(\"search-modal\")[0]\r\n      .classList.add(\"show-modal\");\r\n    document.body.style.overflow = \"hidden\";\r\n    window.scrollTo(0, parseInt(window.scrollY || \"0\") * -1);\r\n  };\r\n  let findGuardian = (e) => {\r\n    e.preventDefault();\r\n    setGAutoname([]);\r\n    let datas = {\r\n      searchId,\r\n    };\r\n    fetch(`${url}/main/students/find-guardian`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(datas),\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status) {\r\n          setGuardianArr(data?.message);\r\n          function formatDataForTreeView(data) {\r\n            const treeData = [];\r\n            for (const item of data) {\r\n              let parent = treeData?.find(\r\n                (parent) =>\r\n                  parent?.label?.toLowerCase().trim() ===\r\n                  item?.guardian_name?.toLowerCase()?.trim()\r\n              );\r\n              if (!parent) {\r\n                parent = {\r\n                  label: item?.guardian_name?.toUpperCase(),\r\n                  key: item?.guardian_id,\r\n                  children: [],\r\n                };\r\n                treeData.push(parent);\r\n              }\r\n\r\n              parent?.children?.push({\r\n                label: item?.name?.toUpperCase(),\r\n                class: item?.class?.toUpperCase(),\r\n                key: item?.id,\r\n              });\r\n            }\r\n            return treeData;\r\n          }\r\n          setGuardianArr(formatDataForTreeView(data.message));\r\n        }\r\n      })\r\n\r\n      .catch((err) => console.log(err));\r\n  };\r\n  let copyGuardian = (e, id) => {\r\n    e.preventDefault();\r\n    var textField = document.createElement(\"textarea\");\r\n    textField.innerText = id;\r\n    document.body.appendChild(textField);\r\n    textField.select();\r\n    document.execCommand(\"copy\");\r\n    textField.remove();\r\n    setCopySuccess(true);\r\n    setTimeout(() => setCopySuccess(false), 5000);\r\n  };\r\n  return (\r\n    <div className=\"__students\">\r\n      <h2>Students</h2>\r\n      <Notifications position=\"top-right\" />\r\n      <div className=\"add-container\">\r\n        <div className=\"add\" onClick={() => showModal()}>\r\n          <RiAddLine fill=\"grey\" size={28} />\r\n        </div>\r\n        <div className=\"btn btn-primary btn-sm upload\">\r\n          <label htmlFor=\"upload\">\r\n            <RiUpload2Fill /> Upload XLS\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"upload\"\r\n            style={{ display: \"none\" }}\r\n            id=\"upload\"\r\n            accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n            onChange={handleUpload}\r\n          />\r\n        </div>\r\n        <ReactHTMLTableToExcel\r\n          id=\"xls-button\"\r\n          className=\"xls-button btn btn-light btn-sm ml-3\"\r\n          table=\"table-to-xls\"\r\n          filename={\"Student Template\"}\r\n          sheet=\"students\"\r\n          buttonText=\"Download Template\"\r\n        />\r\n      </div>\r\n\r\n      <form className=\"search-container\">\r\n        <label htmlFor=\"name\">Name</label>\r\n        <div className=\"input-filter-cont\">\r\n          <input\r\n            type=\"select\"\r\n            id=\"name\"\r\n            value={name}\r\n            onKeyUp={() => autoCompleteName(name)}\r\n            onChange={(e) => setName(e?.target?.value)}\r\n            autoComplete=\"off\"\r\n            placeholder=\"Enter Name to search\"\r\n          />\r\n          <div className=\"output-container\" id=\"form-id\" ref={autoCom}>\r\n            <div className=\"output-names\">\r\n              {autoname &&\r\n                autoname.map((item) => (\r\n                  <div\r\n                    className=\"names\"\r\n                    onClick={() => clickAutoName(item?.id)}\r\n                    key={Math.random() + item?.name}\r\n                  >\r\n                    <span>{item?.name}</span> <span>{item?.class}</span>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <select\r\n          value={filteredClass}\r\n          onChange={(e) => changeClass(e)}\r\n          className=\"filter-class\"\r\n        >\r\n          <option value=\"\">Class</option>\r\n          {classes &&\r\n            classes.map((elem) => (\r\n              <option value={elem.toUpperCase()} key={Math.random()}>\r\n                {elem.toUpperCase()}\r\n              </option>\r\n            ))}\r\n        </select>\r\n        <div className=\"btn-cont\">\r\n          <button onClick={(e) => findId(e)} className=\"btn btn-success btn-sm\">\r\n            {\" \"}\r\n            <RiSearchLine />\r\n            <span style={{ marginLeft: \".3rem\" }}>Find</span>\r\n          </button>\r\n          <button onClick={(e) => clear(e)} className=\"btn btn-danger btn-sm\">\r\n            Clear\r\n          </button>\r\n        </div>\r\n        <button\r\n          className=\"btn btn-outline-secondary btn-sm\"\r\n          title=\"search by guardian's name\"\r\n          onClick={(e) => searchByGuardianShowModal(e)}\r\n        >\r\n          SBGN\r\n        </button>\r\n        <button\r\n          className=\"btn btn-outline-dark btn-sm\"\r\n          onClick={(e) => showSelectFnc(e)}\r\n        >\r\n          Promote\r\n        </button>\r\n      </form>\r\n      {showSelect && (\r\n        <div className=\"select-cont alert alert-warning\" role={\"alert\"}>\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={selectAll}\r\n            onChange={selectAllFnc}\r\n            id=\"select-all\"\r\n          />{\" \"}\r\n          <label htmlFor=\"select-all\">\r\n            <small>select all</small>\r\n          </label>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"promote-class\">\r\n              <small>Class</small>\r\n            </label>\r\n            <select\r\n              id=\"promote-class\"\r\n              value={promoteClass}\r\n              onChange={(e) => setPromoteClass(e.target.value)}\r\n            >\r\n              <option value=\"\">Class</option>\r\n              {classes &&\r\n                classes.map((elem) => (\r\n                  <option value={elem.toUpperCase()} key={Math.random()}>\r\n                    {elem.toUpperCase()}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"change-receipt input-cont\">\r\n            <label htmlFor=\"change-re\">CR</label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={changeReceipt}\r\n              onChange={(e) => setchangeReceipt(e.target?.checked)}\r\n              id=\"change-re\"\r\n            />\r\n            {changeReceipt && (\r\n              <>\r\n                <select\r\n                  value={currentTerm}\r\n                  onChange={(e) => setCurrentTerm(e.target.value)}\r\n                  className=\"filter-term\"\r\n                >\r\n                  <option value=\"\">Term</option>\r\n                  {termArray &&\r\n                    termArray?.map((elem) => (\r\n                      <option value={elem} key={Math.random()}>\r\n                        {elem?.toUpperCase()}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n                <select\r\n                  value={currentSession}\r\n                  onChange={(e) => setCurrentSession(e?.target?.value)}\r\n                  className=\"filter-sess\"\r\n                >\r\n                  <option value=\"\">Session</option>\r\n                  {sessionArray &&\r\n                    sessionArray?.map((elem) => (\r\n                      <option value={elem?.toUpperCase()} key={Math.random()}>\r\n                        {elem?.toUpperCase()}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </>\r\n            )}\r\n          </div>\r\n          <button\r\n            className={\r\n              promoteLoading\r\n                ? \"btn btn-dark btn-sm disabled\"\r\n                : \"btn btn-dark btn-sm\"\r\n            }\r\n            title=\"promote selected name\"\r\n            onClick={(e) => savePromote(e)}\r\n            disabled={promoteLoading}\r\n          >\r\n            {promoteLoading ? <Loader.Loader /> : \"Save\"}\r\n          </button>\r\n          <div className=\"close\" onClick={() => setShowSelect(false)}>\r\n            <RiCloseFill fill=\"red\" />{\" \"}\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"table-cont\">\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n            gap: \".5rem\",\r\n            marginRight: \".3rem\",\r\n            alignItems: \"center\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          <RiRefreshLine title=\"refresh\" onClick={() => fetchRecord()} />\r\n          <small>Total: {studentTotal}</small>\r\n        </div>\r\n        <div className=\"our-table\">\r\n          <div className=\"header\">\r\n            Name\r\n            <select value={limit} onChange={(e) => setLimitFnc(e)}>\r\n              <option value=\"6\">6</option>\r\n              <option value=\"10\">10</option>\r\n              <option value=\"20\">20</option>\r\n              <option value=\"50\">50</option>\r\n              <option value=\"100\">100</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"header\">Class</div>\r\n          <div className=\"header\">Status</div>\r\n          <hr />\r\n          {isLoading ? (\r\n            <div\r\n              className=\"table-row loading\"\r\n              style={{ textAlign: \"center\", padding: \".3rem\" }}\r\n            >\r\n              loading...\r\n            </div>\r\n          ) : students.length === 0 ? (\r\n            <div\r\n              className=\"table-row\"\r\n              style={{ textAlign: \"center\", padding: \".3rem\" }}\r\n            >\r\n              No students available\r\n            </div>\r\n          ) : (\r\n            students.map((record) => (\r\n              <details\r\n                className=\"table-row\"\r\n                key={record?.keyid + new Date() + Math.random()}\r\n              >\r\n                <summary>\r\n                  <span>\r\n                    <span>\r\n                      {showSelect && (\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={selectedItem.includes(record?.id)}\r\n                          onChange={(e) => selectFnc(record?.id)}\r\n                        />\r\n                      )}\r\n                    </span>\r\n                    <span>{record?.name}</span>\r\n                  </span>\r\n                  <span>{record?.class}</span>\r\n                  <span className=\"status\">\r\n                    <span> {record?.status}</span>\r\n                    {record?.status?.toLowerCase() === \"active\" ? (\r\n                      <RiCheckboxBlankCircleFill fill=\"green\" />\r\n                    ) : (\r\n                      <RiCheckboxBlankCircleFill fill=\"red\" />\r\n                    )}\r\n                  </span>\r\n                </summary>\r\n                <p className=\"alert alert-info\">\r\n                  <small className=\"alert-heading h5\">Details</small>\r\n                  <span className=\"details-content\">\r\n                    <span>Name</span>\r\n                    <span>{record?.name}</span>\r\n                  </span>\r\n                  <span className=\"details-content\">\r\n                    <span>Class</span>\r\n                    <span>{record?.class}</span>\r\n                  </span>\r\n                  <span className=\"details-content\">\r\n                    <span>Guardian's Name</span>\r\n                    <span>{record.guardian_name}</span>\r\n                  </span>\r\n                  <span className=\"details-content\">\r\n                    <span>Guardian's Tel</span>\r\n                    <span>{record.phone_number}</span>\r\n                  </span>\r\n                  <span className=\"details-content\">\r\n                    <span>Admission No</span>\r\n                    <span>{record?.adm_no}</span>\r\n                  </span>\r\n                  <span className=\"details-content\">\r\n                    <span>Special Discount</span>\r\n                    <span>{record?.discounts}</span>\r\n                  </span>\r\n                  <span className=\"details-content\">\r\n                    <span>Date Registered</span>\r\n                    <span>{new Date(record.created_at).toDateString()}</span>\r\n                  </span>\r\n                  <span className=\"details-content\">\r\n                    <button\r\n                      onClick={() => editRecord(record.id)}\r\n                      className=\"btn btn-light btn-sm mt-2\"\r\n                    >\r\n                      <RiEdit2Line fill=\"orangered\" /> Update\r\n                    </button>\r\n                    <button\r\n                      onClick={() => deleteRecord(record.id)}\r\n                      className=\"btn btn-danger btn-sm mt-2\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                    <button\r\n                      onClick={(e) => copyGuardian(e, record?.guardian_id)}\r\n                      className=\"btn btn-light btn-sm mt-2\"\r\n                    >\r\n                      {copySuccess ? (\r\n                        <RiCheckLine fill=\"green\" />\r\n                      ) : (\r\n                        <RiFileCopy2Line />\r\n                      )}\r\n                    </button>\r\n                  </span>\r\n                </p>\r\n              </details>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n      {students.length > 0 && (\r\n        <div className=\"pagination-buttons\">\r\n          <button\r\n            onClick={() => handlePageChange(1)}\r\n            disabled={currentPage === 1}\r\n            className=\"first-page\"\r\n          >\r\n            First\r\n          </button>\r\n          <button\r\n            onClick={() => handlePageChange(currentPage - 1)}\r\n            disabled={currentPage === 1}\r\n            className=\"prev-page\"\r\n          >\r\n            Prev\r\n          </button>\r\n          {Array.from(Array(totalPages).keys()).map((page) => {\r\n            if (page <= 7) {\r\n              return (\r\n                <button\r\n                  key={page + 1}\r\n                  onClick={() => handlePageChange(page + 1)}\r\n                  className={currentPage - 1 === page ? \"active\" : \"\"}\r\n                >\r\n                  {page + 1}\r\n                </button>\r\n              );\r\n            } else {\r\n              return \"\";\r\n            }\r\n          })}\r\n          <button\r\n            onClick={() => handlePageChange(currentPage + 1)}\r\n            disabled={currentPage === totalPages}\r\n            className=\"next-page\"\r\n          >\r\n            Next\r\n          </button>\r\n          <button\r\n            onClick={() => handlePageChange(totalPages)}\r\n            disabled={currentPage === totalPages}\r\n            className=\"last-page\"\r\n          >\r\n            Last\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <ModalCont\r\n        classModal={\"search-modal\"}\r\n        notShowSave={true}\r\n        title=\"Search student by Guardian's Name\"\r\n      >\r\n        <div className=\"search-cont\">\r\n          <form className=\"search-container\">\r\n            <label htmlFor=\"g-name\">Guardian's Name</label>\r\n            <div className=\"input-filter-cont\">\r\n              <input\r\n                type=\"select\"\r\n                id=\"g-name\"\r\n                value={Gname}\r\n                onKeyUp={() => autoGCompleteName(Gname)}\r\n                onChange={(e) => setGName(e?.target?.value)}\r\n                autoComplete=\"off\"\r\n                placeholder=\"Enter Guardians Name to search\"\r\n              />\r\n              <div className=\"output-container\" id=\"search-id\">\r\n                <div className=\"output-names\">\r\n                  {gAutoname &&\r\n                    gAutoname.map((item) => (\r\n                      <div\r\n                        className=\"names\"\r\n                        onClick={() => clickGAutoName(item?.guardian_id)}\r\n                        key={Math.random() + item?.guardian_id}\r\n                      >\r\n                        <span>{item?.guardian_name}</span>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"btn-cont\">\r\n              <button\r\n                onClick={(e) => findGuardian(e)}\r\n                className=\"btn btn-success btn-sm\"\r\n              >\r\n                {\" \"}\r\n                <RiSearchLine />\r\n                <span style={{ marginLeft: \".3rem\" }}>Find</span>\r\n              </button>\r\n              <button\r\n                onClick={(e) => clearG(e)}\r\n                className=\"btn btn-danger btn-sm\"\r\n              >\r\n                Clear\r\n              </button>\r\n            </div>\r\n          </form>\r\n          <div className=\"output-search\">\r\n            {guardianArr.length !== 0 &&\r\n              guardianArr?.map((guardian) => (\r\n                <div\r\n                  className=\"tree-container\"\r\n                  key={guardian?.key + Math.random()}\r\n                >\r\n                  <div className=\"tree-parent\">\r\n                    <div className=\"parent-label\">Parent</div>\r\n                    <div>{guardian?.label}</div>\r\n                    <div>\r\n                      <RiArrowDownLine />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"children-cont\">\r\n                    <div className=\"children-label\">\r\n                      {guardian?.children?.length > 1 ? \"Children\" : \"Child\"}\r\n                    </div>\r\n                    <div>\r\n                      <RiArrowDownLine />\r\n                    </div>\r\n                    <div\r\n                      className={\r\n                        guardian?.children?.length > 1\r\n                          ? \"children-container\"\r\n                          : \"child-container\"\r\n                      }\r\n                    >\r\n                      {guardian.children?.map((child) => (\r\n                        <div className=\"child\" key={child?.key}>\r\n                          <div>{child?.label}</div>\r\n                          <div className=\"class\">{child?.class}</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </ModalCont>\r\n      <ModalCont\r\n        classModal={\"student-add-modal\"}\r\n        btn={isLoading2 ? <Loader.Loader /> : \"Add\"}\r\n        save={saveStudent}\r\n        title=\"Add student\"\r\n        loading={isLoading2}\r\n      >\r\n        <form action=\"\">\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"add-name\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              id=\"add-name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n              required\r\n              placeholder=\"Type name here\"\r\n            />\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"class\">Class</label>\r\n            <select\r\n              value={filteredClass}\r\n              className=\"filter-class\"\r\n              required\r\n              onChange={(e) => setFilteredClass(e.target.value)}\r\n              id=\"class\"\r\n            >\r\n              <option value=\"\">Select Class</option>\r\n              {classes &&\r\n                classes.map((elem) => (\r\n                  <option value={elem.toUpperCase()} key={Math.random()}>\r\n                    {elem.toUpperCase()}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"a-g-name\">Guardian's Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={guardianName}\r\n              id=\"a-g-name\"\r\n              onChange={(e) => setGuardianName(e.target.value)}\r\n              required\r\n              placeholder=\"Type Guardian's Name here\"\r\n            />\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"g-tel\">Phone Number</label>\r\n            <input\r\n              type=\"tel\"\r\n              value={tel}\r\n              id=\"balance-user\"\r\n              onChange={(e) => setTel(e.target.value)}\r\n              required\r\n              placeholder=\"Enter Phone Number of Guradian\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </ModalCont>\r\n\r\n      <ModalCont\r\n        title=\"Update Student Info\"\r\n        classModal=\"edit-modal\"\r\n        btn={isLoading3 ? <Loader.Loader /> : \"Update\"}\r\n        loading={isLoading3}\r\n        save={saveEdit}\r\n      >\r\n        <form action=\"\">\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"update-name\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={updateName}\r\n              id=\"update-name\"\r\n              onChange={(e) => setUpdateName(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"update-class\">Class</label>\r\n            <select\r\n              id=\"update-class\"\r\n              value={updateClass}\r\n              onChange={(e) => setUpdateClass(e.target.value)}\r\n            >\r\n              <option value=\"\">Class</option>\r\n              {classes &&\r\n                classes.map((elem) => (\r\n                  <option value={elem.toUpperCase()} key={Math.random()}>\r\n                    {elem.toUpperCase()}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"update-g-name\">Guardian's Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={updateGuardianName}\r\n              id=\"update-g-name\"\r\n              onChange={(e) => setUpdateGuardianName(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"update-address\">Address</label>\r\n            <input\r\n              type=\"text\"\r\n              value={updateAddress}\r\n              id=\"update-address\"\r\n              onChange={(e) => setUpdateAddress(e.target.value)}\r\n              placeholder=\"Enter Guardian's address\"\r\n            />\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"tel\">Guardian's Tel</label>\r\n            <input\r\n              type=\"tel\"\r\n              value={updateTel}\r\n              id=\"tel\"\r\n              onChange={(e) => setUpdateTel(e.target.value)}\r\n              placeholder=\"Enter Phone Number of Guardian\"\r\n            />\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"g-id\">Guardian's ID</label>\r\n            <input\r\n              type=\"text\"\r\n              value={UpdateGuardianId}\r\n              id=\"g-id\"\r\n              onChange={(e) => setUpdateGuardianId(e.target.value)}\r\n              placeholder=\"Guardians ID. All wards of this guardian should have same guardian.\"\r\n              onDoubleClick={() => autoKey()}\r\n              title=\"Double click to get a unique ID only if ID is empty\"\r\n            />\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"adm\">Student Admission No. </label>\r\n            <input\r\n              type=\"text\"\r\n              value={updateAdmNo}\r\n              id=\"adm\"\r\n              onChange={(e) => setUpdateAdmNo(e.target.value)}\r\n              placeholder=\"Student's Admission No\"\r\n            />\r\n          </div>\r\n          <div className=\"input-cont\">\r\n            <label htmlFor=\"discount\">Special Discount</label>\r\n            <input\r\n              type=\"text\"\r\n              value={updateDiscount}\r\n              id=\"discount\"\r\n              onChange={(e) => setUpdateDiscount(e.target.value)}\r\n              placeholder=\"if student has any special discount or rebate\"\r\n            />\r\n          </div>\r\n          <div className=\"input-cont last-input-cont\">\r\n            <label htmlFor=\"status\">Student Status </label>\r\n            <div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={updatestatus}\r\n                id=\"status\"\r\n                onChange={(e) => setUpdatestatus(e.target.checked)}\r\n                className=\"check\"\r\n              />\r\n              <small>\r\n                <i>\r\n                  Toggle to switch status. If checked, student is active else,\r\n                  student is not\r\n                </i>\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </ModalCont>\r\n      <ModalCont\r\n        classModal={\"upload-modal\"}\r\n        btn={isLoadingUpload ? <Loader.Loader /> : \"Add\"}\r\n        loading={isLoadingUpload}\r\n        save={saveUpload}\r\n        notShowSave={file.length === 0 ? true : false}\r\n      >\r\n        <div className=\"preview table-responsive\">\r\n          <h4 className=\"h4\">Preview Data</h4>\r\n          <table\r\n            className=\"table table-bordered table-hoverable\"\r\n          >\r\n            <thead>\r\n              <tr>\r\n                <th>NAME</th>\r\n                <th>CLASS</th>\r\n                <th>GUARDIAN NAME</th>\r\n                <th>PHONE NUMBER</th>\r\n                <th>ADM NO</th>\r\n                <th>ADDRESS</th>\r\n                <th>DISCOUNTS</th>\r\n                <th>GUARDIAN ID</th>\r\n                <th>STATUS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {file.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={10}>No data to preiew</td>\r\n                </tr>\r\n              ) : (\r\n                file?.map((item) => (\r\n                  <tr key={Math.random()}>\r\n                    <td>{item[\"NAME\"]}</td>\r\n                    <td>{item[\"CLASS\"]}</td>\r\n                    <td>{item[\"GUARDIAN NAME\"]}</td>\r\n                    <td>{item[\"PHONE NUMBER\"]}</td>\r\n                    <td>{item[\"ADM NO\"]}</td>\r\n                    <td>{item[\"ADDRESS\"]}</td>\r\n                    <td>{item[\"DISCOUNTS\"]}</td>\r\n                    <td>{item[\"GUARDIAN ID\"]}</td>\r\n                    <td>{item[\"STATUS\"]}</td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </ModalCont>\r\n      <table id=\"table-to-xls\" style={{ display: \"none\" }}>\r\n        <thead>\r\n          <tr>\r\n            <th>NAME</th>\r\n            <th>CLASS</th>\r\n            <th>GUARDIAN NAME</th>\r\n            <th>PHONE NUMBER</th>\r\n            <th>ADM NO</th>\r\n            <th>ADDRESS</th>\r\n            <th>DISCOUNTS</th>\r\n            <th>GUARDIAN ID</th>\r\n            <th>STATUS</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              Make no alterations to the headers. Leave empty if no value. Do\r\n              not add any extra column to this worksheet.\r\n            </td>\r\n            <td>classes should be entered in relation on what is on the app</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Students;\r\n"],"names":["useState","file","setFile","headers","setHeaders","classes","setClasses","sessionArray","setSessionArray","termArray","setTermArray","useContext","MainContext","url","notifications","name","setName","currentTerm","setCurrentTerm","currentSession","setCurrentSession","filteredClass","setFilteredClass","guardianName","setGuardianName","tel","setTel","isLoading","setIsLoading","isLoading2","setIsLoading2","isLoading3","setIsLoading3","autoname","setAutoName","searchId","setSearchId","students","setStudents","totalPages","setTotalPages","currentPage","setcurrentPage","updateName","setUpdateName","updateClass","setUpdateClass","updateGuardianName","setUpdateGuardianName","updateTel","setUpdateTel","updateAddress","setUpdateAddress","updateAdmNo","setUpdateAdmNo","UpdateGuardianId","setUpdateGuardianId","updatestatus","setUpdatestatus","updateDiscount","setUpdateDiscount","path","setPath","selectedItem","setSelectedItem","selectAll","setSelectAll","showSelect","setShowSelect","promoteClass","setPromoteClass","promoteLoading","setPromoteLoading","isLoadingUpload","setIsLoadingUpload","limit","setLimit","Gname","setGName","gAutoname","setGAutoname","guardianArr","setGuardianArr","copySuccess","setCopySuccess","studentTotal","setStudentTotal","changeReceipt","setchangeReceipt","filterArray","id","useRef","autoCom","fetchRecord","fetch","method","credentials","then","res","json","data","status","message","total","Math","ceil","console","log","warning","catch","err","useEffect","newCls","JSON","parse","current_session","current_term","terms","split","sessions","document","readyState","handlePageChange","newPage","editRecord","key","toUpperCase","class","current","guardian_name","guardian_id","adm_no","phone_number","toLowerCase","address","discounts","getElementsByClassName","classList","add","body","style","overflow","window","scrollTo","parseInt","scrollY","className","Notifications","position","onClick","fill","size","htmlFor","type","display","accept","onChange","e","files","target","promise","Promise","resolve","reject","FileRead","FileReader","readAsArrayBuffer","onload","bufferArray","result","wb","XLSX","wsname","SheetNames","ws","Sheets","onerror","error","d","length","header","Object","keys","table","filename","sheet","buttonText","value","onKeyUp","push","trim","stringify","condition","autoCompleteName","autoComplete","placeholder","ref","map","item","details","find","clickAutoName","random","changeClass","elem","preventDefault","datas","prev","findId","marginLeft","clear","title","searchByGuardianShowModal","showSelectFnc","role","checked","event","i","ids","receipt","term","session","success","savePromote","disabled","Loader","justifyContent","gap","marginRight","alignItems","cursor","setLimitFnc","textAlign","padding","record","includes","filter","Date","created_at","toDateString","confirm","textField","createElement","innerText","appendChild","select","execCommand","remove","setTimeout","copyGuardian","keyid","Array","from","page","ModalCont","classModal","notShowSave","clickGAutoName","treeData","parent","label","children","formatDataForTreeView","findGuardian","clearG","guardian","child","btn","save","top","loading","action","required","newClass","guardianID","studentAdm","onDoubleClick","randomKey","now","toString","slice","repeat","autoKey","toLower","str","formattedHeader","head","replace","tempFile","forEach","element","newObj","colSpan"],"sourceRoot":""}